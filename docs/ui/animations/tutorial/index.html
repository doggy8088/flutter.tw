<!DOCTYPE html><html lang="zh"><head>
    <meta charset="utf-8">
    <title>教程 | 在 Flutter 應用裡實現動畫效果 | Flutter 中文文件 - Flutter 中文開發者網站 - Flutter</title>
    <link rel="icon" href="/assets/images/cn/flutter-icon.png">
    <link rel="apple-touch-icon" href="/assets/images/cn/flutter-320px.png">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <link rel="preconnect" href="https://fonts.googleapis.cn">
    <link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin="">
    <!--      <meta name="google-site-verification" content="" />-->
     <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','G-HPSFTRXK91');
      </script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-122680122-1', 'auto');
        ga('send', 'pageview');
      </script>
      <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?459029b086376519fc9bf43c184e2a4f";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    

    <meta name="description" content="如何在 Flutter 中實現動畫效果。">
    <meta name="keywords" content="使用者介面,Flutter UI,動畫, 教程,實戰,顯式動畫">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@flutterchina">

    <meta property="og:title" content="教程 | 在 Flutter 應用裡實現動畫效果">
    <meta property="og:url" content="https://flutter.tw/docs/ui/animations/tutorial">
    <meta property="og:description" content="如何在 Flutter 中實現動畫效果。">
    <meta property="og:image" content="https://flutter.tw/assets/images/cn/flutter-cn-logo.png">

    <link rel="preconnect" href="https://files.flutter-io.cn">
    <link href="https://files.flutter-io.cn/fonts/flutter/fonts.css" rel="stylesheet">
    <link href="https://files.flutter-io.cn/fonts/material-icons/material-icons-symbols-outlined.css" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" /> -->
    <link rel="stylesheet" href="https://cdn.staticfile.net/highlight.js/10.6.0/styles/github.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.net/diff2html/2.12.2/diff2html.css">
<script src="https://cdn.staticfile.net/diff2html/2.12.2/diff2html.min.js"></script>
<script src="https://cdn.staticfile.net/diff2html/2.12.2/diff2html-ui.js"></script>
<script src="https://cdn.staticfile.net/highlight.js/10.6.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.net/highlight.js/10.6.0/languages/dart.min.js"></script>
<script src="https://cdn.staticfile.net/highlight.js/10.6.0/languages/yaml.min.js"></script>
<script>
function setupDiff() {
    const diff2htmlUi = new Diff2HtmlUI();
    diff2htmlUi.highlightCode(".d2h-wrapper");
}

if (document.readyState !== "loading") {
  setupDiff();
} else {
  document.addEventListener("DOMContentLoaded", setupDiff);
}
</script>
<script>
      window.__CALLBACKS = [];
    </script>

    <link rel="stylesheet" href="/assets/css/main.css?v=1714594673">
    <link href="/assets/translator/css/translator.css" rel="stylesheet"></head>
  <body>

<!--    <section id="cookie-notice">
  <div class="container">
    <p>Google uses cookies to deliver its services, to personalize ads, and to 
      analyze traffic. You can adjust your privacy controls anytime in your 
      <a href="https://myaccount.google.com/data-and-personalization" target="_blank" rel="noopener">Google settings</a>. 
      <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener">Learn more</a>.
    </p>
    <button id="cookie-consent" class="btn btn-primary">Okay</button>
  </div>
</section>
-->

   
     <noscript>
       <iframe
         src="https://www.googletagmanager.com/ns.html?id=G-HPSFTRXK91"
         height="0" width="0" style="display:none;visibility:hidden">
       </iframe>
     </noscript>
   

    <div id="overlay-under-drawer"></div>

    

<header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="material-symbols">menu</i>
    </button>

    <a class="navbar-brand" href="https://flutter.tw/">
      <img src="/assets/images/cn/flutter-cn-logo.png" alt="Flutter CN logo" height="37" width="129" class="align-middle">
    </a>

    <div id="navbarSupportedContent" class="collapse navbar-collapse flex-grow-0">
      <div class="site-header__sheet-bg" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      </div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <div class="site-sidebar site-sidebar--header d-md-none">
            <ul class="nav flex-column"><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-1" role="button" aria-expanded="false" aria-controls="header-sidenav-1">開始使用 Flutter</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-1">
            <li class="nav-item">
    <a class="nav-link" href="/get-started/install">安裝和環境設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/test-drive">開發體驗初探</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/codelab">編寫第一個 Flutter 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/learn-more">瞭解更多</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-1-6" href="#header-sidenav-1-6" role="button" aria-expanded="false" aria-controls="header-sidenav-1-6">擁有其他平台開發經驗？
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/android-devs">給 Android 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/swiftui-devs">給 iOS SwiftUI 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/uikit-devs">給 iOS UIKit 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/react-native-devs">給 React Native 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/web-devs">給 Web 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/xamarin-forms-devs">給 Xamarin.Forms 開發者的 Flutter 指南</a>
  </li>

<div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/declarative">宣告式 UI 介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/dart-swift-concurrency">Flutter 對比 Swift 的併發</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dart.tw.gh.miniasp.com/overview" target="_blank" rel="noopener">Dart 語言概覽</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-2" role="button" aria-expanded="false" aria-controls="header-sidenav-2">保持版本更新</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-2">
            <li class="nav-item">
    <a class="nav-link" href="/release/upgrade">版本升級</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/archive">SDK 版本清單</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link" href="/release/whats-new">最近更新</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/release-notes">版本發行注記</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/breaking-changes">破壞性改動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/compatibility-policy">相容性策略</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-3" role="button" aria-expanded="false" aria-controls="header-sidenav-3">教程和範例程式碼</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-3">
            <li class="nav-item">
    <a class="nav-link" href="/codelabs">Codelabs</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook">實用教程 (Cookbook)</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">GitHub 上的範例應用</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-4" role="button" aria-expanded="false" aria-controls="header-sidenav-4">應用解決方案</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-4">
            <li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-4-1" href="#header-sidenav-4-1" role="button" aria-expanded="false" aria-controls="header-sidenav-4-1">遊戲
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-4-1">
      <li class="nav-item">
    <a class="nav-link" href="/resources/games-toolkit">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/games/achievements-leaderboard">新增成就和排行榜</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/plugins/google-mobile-ads">新增廣告</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/games/firestore-multiplayer">新增多人遊戲支援</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases#0" target="_blank" rel="noopener">新增應用內購買</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://firebase.google.cn/codelabs/firebase-auth-in-flutter-apps#0" target="_blank" rel="noopener">新增使用者身份驗證</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://firebase.google.cn/docs/crashlytics/get-started?platform=flutter" target="_blank" rel="noopener">使用 Crashlytics 除錯</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-4-2" href="#header-sidenav-4-2" role="button" aria-expanded="false" aria-controls="header-sidenav-4-2">新聞
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-4-2">
      <li class="nav-item">
    <a class="nav-link" href="/resources/news-toolkit">建立新聞應用程式</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-4-3" href="#header-sidenav-4-3" role="button" aria-expanded="false" aria-controls="header-sidenav-4-3">盈利
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-4-3">
      <li class="nav-item">
    <a class="nav-link" href="https://flutter.dev/monetization" target="_blank" rel="noopener">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases#0" target="_blank" rel="noopener">新增應用內購買</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-4-4" href="#header-sidenav-4-4" role="button" aria-expanded="false" aria-controls="header-sidenav-4-4">地圖
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-4-4">
      <li class="nav-item">
    <a class="nav-link" href="https://developers.google.com/maps/flutter-package" target="_blank" rel="noopener">為應用程式新增地圖</a>
  </li>

</ul>
  </li>
</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-header">使用者介面</li>
    <li class="nav-item">
          <a class=" nav-link" href="/ui">介紹</a>
        </li>
      <li class="nav-item">
          <a class=" nav-link" href="/ui/widgets">Widget 目錄</a>
        </li>
      <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-9" role="button" aria-expanded="false" aria-controls="header-sidenav-9">佈局建立</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-9">
            <li class="nav-item">
    <a class="nav-link" href="/ui/layout">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/tutorial">佈局建立教程</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-9-3" href="/ui/layout/lists" role="button" aria-expanded="false" aria-controls="header-sidenav-9-3">清單 &amp; 網格
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-9-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/basic-list">建立與使用清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/horizontal-list">建立一個橫向清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/grid-lists">建立一個網格檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/mixed-list">建立包含不同型別元素的清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/spaced-items">建立元素之間包含間隔的清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/long-lists">處理長清單</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-9-4" href="/ui/layout/scrolling" role="button" aria-expanded="false" aria-controls="header-sidenav-9-4">捲動
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-9-4">
      <li class="nav-item">
    <a class="nav-link" href="/ui/layout/scrolling">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/scrolling/slivers">使用 Slivers 實現各種捲動需求</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/floating-app-bar">在清單開頭新增一個浮動的頂欄</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/parallax-scrolling">建立一個平行錯位捲動的效果</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-9-5" href="/ui/layout/responsive" role="button" aria-expanded="false" aria-controls="header-sidenav-9-5">回應式設計
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-9-5">
      <li class="nav-item">
    <a class="nav-link" href="/ui/layout/responsive/adaptive-responsive">建立回應式和自適應的應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/responsive/building-adaptive-apps">建立自適應應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/orientation">根據旋轉角度更新應用的介面元素</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-10" role="button" aria-expanded="false" aria-controls="header-sidenav-10">設計 &amp; 主題</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-10">
            <li class="nav-item">
    <a class="nav-link" href="/cookbook/design/themes">共享主題樣式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/design/material">Material 設計</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/breaking-changes/material-3-migration">遷移至 Material 3</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-10-4" href="/ui/design/text" role="button" aria-expanded="false" aria-controls="header-sidenav-10-4">文字
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-10-4">
      <li class="nav-item">
    <a class="nav-link" href="/ui/design/text/typography">字型 &amp; 版式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/fonts">使用自定義字型</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/package-fonts">將字型從 package 中對外暴露</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google 字型 package</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-10-5" href="/ui/design/graphics" role="button" aria-expanded="false" aria-controls="header-sidenav-10-5">自定義圖形
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-10-5">
      <li class="nav-item">
    <a class="nav-link" href="/ui/design/graphics/fragment-shaders">使用自定義的著色器</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-11" role="button" aria-expanded="false" aria-controls="header-sidenav-11">互動</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-11">
            <li class="nav-item">
    <a class="nav-link" href="/ui/interactivity">為你的應用新增互動</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-11-2" href="/ui/interactivity/gestures" role="button" aria-expanded="false" aria-controls="header-sidenav-11-2">手勢
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-11-2">
      <li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/gestures">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/handling-taps">處理點選</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/gestures/drag-outside">跨應用拖放物件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/drag-a-widget">拖動介面元素</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/ripples">新增 Material 風格的水波紋</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/dismissible">實現滑動取消</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-11-3" href="/ui/interactivity/input" role="button" aria-expanded="false" aria-controls="header-sidenav-11-3">輸入 &amp; 表單
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-11-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/text-input">建立輸入框並且調整樣式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/retrieve-input">讀取輸入框的內容</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/text-field-changes">處理輸入框的內容變動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/focus">管理輸入框之間的焦點</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/validation">建立具有校驗功能的表單</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/cookbook/design/snackbars">展示 SnackBar</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/actions-and-shortcuts">實現快捷方式和捷徑</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/focus">管理鍵盤焦點</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-12" role="button" aria-expanded="false" aria-controls="header-sidenav-12">資源 &amp; 媒體</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-12">
            <li class="nav-item">
    <a class="nav-link" href="/ui/assets/assets-and-images">新增資源和圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/images/network-image">載入網路圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/images/fading-in-images">從佔位圖轉場到圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/plugins/play-video">播放及暫停影片</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-13" role="button" aria-expanded="false" aria-controls="header-sidenav-13">導向 &amp; 路由</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-13">
            <li class="nav-item">
    <a class="nav-link" href="/ui/navigation">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/tabs">新增 Tab 到應用中</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/navigation-basics">導向至新頁面並回傳</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/passing-data">傳遞資料到新頁面</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/returning-data">從新頁面回傳資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/drawer">在頁面上新增抽屜</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/navigation/deep-linking">設定 Deeplink</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/set-up-app-links">設定 Android Deeplink</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/set-up-universal-links">設定 iOS Universal Link</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/navigation/url-strategies">設定 Web 的 URL 策略</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link active collapsable" data-toggle="collapse" href="#header-sidenav-14" role="button" aria-expanded="true" aria-controls="header-sidenav-14">動畫 &amp; 轉場</a>
      
          <ul class="nav flex-column flex-nowrap collapse show" id="header-sidenav-14">
            <li class="nav-item">
    <a class="nav-link" href="/ui/animations">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link active" href="/ui/animations/tutorial">教程</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/implicit-animations">隱式動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/animated-container">轉場 Container 的屬性</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/opacity-animation">漸入漸出 widget</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/hero-animations">Hero（跨頁面共享元素）動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/page-route-animation">頁面轉場動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/physics-simulation">模擬物理屬性動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/staggered-animations">交錯動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/staggered-menu-animation">建立選單的交錯動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/overview">API 概覽</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-15" role="button" aria-expanded="false" aria-controls="header-sidenav-15">無障礙 &amp; 國際化</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-15">
            <li class="nav-item">
    <a class="nav-link" href="/ui/accessibility-and-internationalization/accessibility">無障礙</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/accessibility-and-internationalization/internationalization">國際化</a>
  </li>


</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-header">介面以外的開發</li>
    <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-18" role="button" aria-expanded="false" aria-controls="header-sidenav-18">資料呼叫和後端</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-18">
            <li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-18-1" href="/data-and-backend/state-mgmt" role="button" aria-expanded="false" aria-controls="header-sidenav-18-1">狀態管理
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-18-1">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/intro">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/declarative">從宣告式的角度思考</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/ephemeral-vs-app">短暫狀態 &amp; 持久狀態</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/simple">簡單的狀態管理</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/options">狀態管理參考</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-18-2" href="/data-and-backend/networking" role="button" aria-expanded="false" aria-controls="header-sidenav-18-2">網路 &amp; http
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-18-2">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/networking">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/fetch-data">從網路上獲取資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/authenticated-requests">建立需要認證的請求</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/send-data">傳送資料到伺服器</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/update-data">更新網路上的資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/delete-data">刪除網路上的資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/web-sockets">WebSocket 通訊</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-18-3" href="/data-and-backend/serialization" role="button" aria-expanded="false" aria-controls="header-sidenav-18-3">序列化
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-18-3">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/serialization/json">JSON 序列化</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/background-parsing">在後台處理 JSON 解析</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-18-4" href="/data-and-backend/persistence" role="button" aria-expanded="false" aria-controls="header-sidenav-18-4">持久化
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-18-4">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/key-value">將 key-value 資料儲存在硬碟上</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/reading-writing-files">讀寫檔案</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/sqlite">利用 SQLite 持久化資料</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/data-and-backend/firebase">Firebase</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/google-apis">Google APIs</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-19" role="button" aria-expanded="false" aria-controls="header-sidenav-19">平台整合</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19">
            <li class="nav-item">
    <a class="nav-link" href="/reference/supported-platforms">支援的平台</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/desktop">建立桌面端應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/platform-channels">撰寫平台程式碼 (外掛編寫實現)</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/platform-adaptations">自動化平台適配</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-5" href="/platform-integration/android" role="button" aria-expanded="false" aria-controls="header-sidenav-19-5">Android 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-5">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/splash-screen">新增螢幕閃爍頁</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/c-interop">呼叫原生程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/platform-views">託管 Android 原生檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/restore-state-android">在 Android 上恢復狀態</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/chromeos">建立適合 Chrome OS 的 Android 應用</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-6" href="/platform-integration/ios" role="button" aria-expanded="false" aria-controls="header-sidenav-19-6">iOS 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-6">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/apple-frameworks">使用 Apple 的系統函式庫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/launch-screen">新增啟動頁</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/ios-app-clip">新增 iOS App Clip 支援</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/app-extensions">新增 iOS App 擴充套件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/c-interop">呼叫原生程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/platform-views">託管 iOS 原生檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/ios-debugging">iOS 平台除錯</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/restore-state-ios">在 iOS 上恢復狀態</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-7" href="/platform-integration/linux" role="button" aria-expanded="false" aria-controls="header-sidenav-19-7">Linux 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-7">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/linux/building">建立 Linux 桌面軟體</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-8" href="/platform-integration/macos" role="button" aria-expanded="false" aria-controls="header-sidenav-19-8">macOS 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-8">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/macos/building">建立 macOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/macos/c-interop">C 語言程式碼整合及呼叫</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-9" href="/platform-integration/web" role="button" aria-expanded="false" aria-controls="header-sidenav-19-9">Web 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-9">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/building">建立一個 Web 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/faq">Web 平台常見問題</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/renderers">Web 平台渲染器</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/initialization">自定義 Web 應用初始化</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/web-images">在網頁裡顯示圖片</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-19-10" href="/platform-integration/windows" role="button" aria-expanded="false" aria-controls="header-sidenav-19-10">Windows 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-19-10">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/windows/building">建立 Windows 桌面軟體</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-20" role="button" aria-expanded="false" aria-controls="header-sidenav-20">Package 和外掛</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-20">
            <li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/using-packages">使用 package 和外掛</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/developing-packages">開發 Package 和外掛</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/favorites">Flutter Favorites 專案</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package 倉庫</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-21" role="button" aria-expanded="false" aria-controls="header-sidenav-21">測試和除錯</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-21">
            <li class="nav-header">測試</li><li class="nav-item">
    <a class="nav-link" href="/testing/overview">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-21-3" href="#header-sidenav-21-3" role="button" aria-expanded="false" aria-controls="header-sidenav-21-3">單元測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-21-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/unit/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/unit/mocking">模擬依賴</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-21-4" href="#header-sidenav-21-4" role="button" aria-expanded="false" aria-controls="header-sidenav-21-4">Widget 測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-21-4">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/finders">尋找 widgets</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/scrolling">模擬捲動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/tap-drag">模擬使用者操作</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-21-5" href="#header-sidenav-21-5" role="button" aria-expanded="false" aria-controls="header-sidenav-21-5">整合測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-21-5">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/integration/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/integration-tests">編寫並執行整合測試</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/integration/profiling">衡量整合測試的效能指標</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/testing/testing-plugins">測試外掛</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/plugins-in-tests">在測試中處理外掛程式碼</a>
  </li>

<li class="nav-header">除錯</li><li class="nav-item">
    <a class="nav-link" href="/testing/debugging">除錯工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/code-debugging">透過程式碼除錯應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/native-debugging">使用原生語言的除錯</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/build-modes">Flutter 的建立模式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/common-errors">常見的 Flutter 錯誤</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/errors">處理錯誤</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/maintenance/error-reporting">將錯誤上報到收集服務</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-22" role="button" aria-expanded="false" aria-controls="header-sidenav-22">效能最佳化</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-22">
            <li class="nav-item">
    <a class="nav-link" href="/perf">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/impeller">使用 Impeller</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/best-practices">效能最佳實踐</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/app-size">應用大小</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/deferred-components">延遲載入元件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/rendering-performance">渲染效能</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/ui-performance">效能分析</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/web-performance">Web 效能分析</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/shader">著色器編譯時卡頓</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/metrics">效能指標</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/isolates">併發與隔離</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/faq">效能常見問題和回答</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/appendix">附錄</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-23" role="button" aria-expanded="false" aria-controls="header-sidenav-23">打包部署</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-23">
            <li class="nav-item">
    <a class="nav-link" href="/deployment/obfuscate">混淆 Dart 程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/flavors">設定 flavors</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/android">建立和發布為 Android 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/ios">建立和發布為 iOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/macos">建立和發布為 macOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/linux">建立和發布為 Linux 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/windows">建立和發布為 Windows 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/web">建立和發布為 Web 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/cd">持續部署</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-24" role="button" aria-expanded="false" aria-controls="header-sidenav-24">將 Flutter 新增到現有應用</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-24">
            <li class="nav-item">
    <a class="nav-link" href="/add-to-app">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-24-2" href="/add-to-app/android" role="button" aria-expanded="false" aria-controls="header-sidenav-24-2">將 Flutter 新增到現有 Android 應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-24-2">
      <li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/project-setup">工程設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-screen">新增單個 Flutter 頁面</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-fragment">新增一個 Flutter Fragment</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-view">新增 Flutter 檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/plugin-setup">Plugin 初始化</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-24-3" href="/add-to-app/ios" role="button" aria-expanded="false" aria-controls="header-sidenav-24-3">將 Flutter 新增到現有 iOS 應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-24-3">
      <li class="nav-item">
    <a class="nav-link" href="/add-to-app/ios/project-setup">工程設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/ios/add-flutter-screen">新增單個 Flutter 頁面</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/add-to-app/debugging">除錯及熱過載</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/multiple-flutters">多個 Flutter 實例</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/performance">載入順序和效能</a>
  </li>


</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-26" role="button" aria-expanded="false" aria-controls="header-sidenav-26">工具 &amp; 程式碼編輯器</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-26">
            <li class="nav-item">
    <a class="nav-link" href="/tools/android-studio">Android Studio &amp; IntelliJ</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">Visual Studio Code</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#header-sidenav-26-3" href="/tools/devtools" role="button" aria-expanded="false" aria-controls="header-sidenav-26-3">DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-26-3">
      <li class="nav-item">
    <a class="nav-link" href="/tools/devtools/overview">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/android-studio">在 Android Studio &amp; IntelliJ 中安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/vscode">在 VS Code 中安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/cli">利用終端指令安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/inspector">Flutter inspector</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/performance">效能檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/cpu-profiler">CPU 效能檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/memory">記憶體檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/console">除錯控制條檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/network">網路檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/debugger">除錯工具 Debugger</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/logging">日誌檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/app-size">應用體積工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/extensions">DevTools 擴充套件工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/release-notes">發布日誌</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/sdk">SDK 概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/pubspec">Flutter pubspec 選項</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/flutter-fix">自動修復</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/formatting">程式碼格式化</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-27" role="button" aria-expanded="false" aria-controls="header-sidenav-27">Flutter 相關概念</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-27">
            <li class="nav-item">
    <a class="nav-link" href="/resources/architectural-overview">Flutter 架構概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/inside-flutter">Flutter 工作原理</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/constraints">理解佈局約束</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/build-modes">Flutter 建立模式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/hot-reload">熱過載</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#header-sidenav-28" role="button" aria-expanded="false" aria-controls="header-sidenav-28">開發者資源清單</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="header-sidenav-28">
            <li class="nav-header">學習</li><li class="nav-item">
    <a class="nav-link" href="/resources/faq">常見問題解答</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/books">相關書籍</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/videos">相關影片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/courses">相關課程</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/bootstrap-into-dart">學習 Dart</a>
  </li>

<li class="nav-header">貢獻</li><li class="nav-item">
    <a class="nav-link" href="/resources/bug-reports">提出 Bug</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">為 Flutter 做出貢獻</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/issues?q=is%3Aopen+is%3Aissue+label%3A%22design+doc%22" target="_blank" rel="noopener">設計文件</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link  collapsable" data-toggle="collapse" href="#header-sidenav-29" role="button" aria-expanded="true" aria-controls="header-sidenav-29">更多資料</a>
      
          <ul class="nav flex-column flex-nowrap collapse show" id="header-sidenav-29">
            <li class="nav-item">
    <a class="nav-link" href="/dash">瞭解 Dash</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/reference/widgets">Flutter Widget 清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">Flutter API 文件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/reference/flutter-cli">Flutter 指令行文件</a>
  </li>


</ul>
        </li></ul>

          </div>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="platform-navbar-dropdown" href="https://flutter.cn/multi-platform" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               多平臺
            </a>
            <div class="dropdown-menu" aria-labelledby="platform-navbar-dropdown">
              <a class="dropdown-item" href="https://flutter.cn/multi-platform/mobile">行動平台</a>
              <a class="dropdown-item" href="https://flutter.cn/multi-platform/web">Web 平台</a>
              <a class="dropdown-item" href="https://flutter.cn/multi-platform/desktop">桌面平台</a>
              <a class="dropdown-item" href="https://flutter.cn/multi-platform/embedded">嵌入式平台</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="dev-navbar-dropdown" href="https://flutter.cn/" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               開發
            </a>
            <div class="dropdown-menu" aria-labelledby="dev-navbar-dropdown">
              <a class="dropdown-item" href="https://flutter.cn/learn">學習資源</a>
              <a class="dropdown-item" href="https://pub.dev/flutter/favorites" target="_blank">Flutter Favorites 系列外掛</a>
              <a class="dropdown-item" href="https://pub.dev/" target="_blank">使用 Packages</a>
              <a class="dropdown-item" href="https://flutter.cn/monetization">盈利</a>
              <a class="dropdown-item" href="https://flutter.cn/games">遊戲</a>
              <a class="dropdown-item" href="https://flutter.cn/news">新聞</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="ecosystem-navbar-dropdown" href="https://flutter.cn/ecosystem" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               生態
            </a>
            <div class="dropdown-menu" aria-labelledby="ecosystem-navbar-dropdown">
              <a class="dropdown-item" href="https://flutter.cn/community">社群</a>
              <!-- <a class="dropdown-item" href="https://flutter.cn/events">Events</a> -->
              <a class="dropdown-item" href="https://flutter.cn/culture">文化</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://flutter.cn/showcase">成功故事</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://flutter.cn/about">關於中文文件</a>
          </li>
          <li class="nav-item dropdown docs-item">
            <a class="nav-link dropdown-toggle" id="docs-navbar-dropdown" href="/" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               文件
            </a>
            <div class="dropdown-menu" aria-labelledby="docs-navbar-dropdown">
              <a class="dropdown-item " href="/posts">最新更新</a>
              <a class="dropdown-item " href="/get-started/editor">IDE 整合</a>
              <a class="dropdown-item " href="/tools/hot-reload">熱過載</a>
              <a class="dropdown-item " href="/perf/ui-performance">效能分析</a>
              <a class="dropdown-item " href="/get-started/install">安裝 Flutter</a>
              <a class="dropdown-item " href="/tools/devtools/overview">開發者工具</a>
              <a class="dropdown-item " href="/cookbook">實用教程</a>
              <a class="dropdown-item " href="/codelabs">Codelabs</a>
              <a class="dropdown-item " href="/community/tutorials">社群教程</a>
            </div>
          </li>
        </ul>
        <form action="/search/" class="site-header__search form-inline">
          <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <div class="site-header__social navbar-nav flex-row">
      <a class="nav-item nav-link nav-icon" href="https://twitter.com/FlutterDev" aria-label="Open Flutter's Twitter in a new tab" target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/twitter.svg#twitter"></use></svg>
      </a>
      <a class="nav-item nav-link nav-icon" href="https://www.youtube.com/flutterdev" aria-label="Open Flutter's YouTube in a new tab" target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/youtube.svg#youtube"></use></svg>
      </a>
      <a class="nav-item nav-link nav-icon" href="https://medium.com/flutter" aria-label="Open Flutter's Medium blog in a new tab" target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/medium.svg#medium"></use></svg>
      </a>
      <a class="nav-item nav-link nav-icon" href="https://github.com/flutter" aria-label="Open Flutter's GitHub in a new tab" target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/github.svg#github"></use></svg>
      </a>
    </div>
    <a class="site-header__cta btn btn-primary" href="/get-started/install/">開始使用
      </a>
    </nav>
</header>


    <div class="site-banner site-banner--default" role="alert">
  Flutter 3.19 已發布！
  <!-- <p>Flutter and Dart」s latest releases are helping to
  define the future of app development.
  <a href="https://medium.com/flutter/starting-2024-strong-with-flutter-and-dart-cae9845264fe">Read the blog</a> to learn more.
  </p>
  <p>Help improve Flutter! Take our <a href="https://google.qualtrics.com/jfe/form/SV_6gplhwAySeRz7Gm?Source=Website">survey</a>.</p> -->
</div>


    <div class="container-fluid position-relative">
  <div class="row flex-xl-nowrap">
    <div class="fixed-col site-sidebar site-sidebar--fixed col-12 col-md-3 col-xl-2 d-none d-md-block" data-fixed-column="">
      
      <ul class="nav flex-column"><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-1" role="button" aria-expanded="false" aria-controls="fixed-sidenav-1">開始使用 Flutter</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-1">
            <li class="nav-item">
    <a class="nav-link" href="/get-started/install">安裝和環境設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/test-drive">開發體驗初探</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/codelab">編寫第一個 Flutter 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/learn-more">瞭解更多</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-1-6" href="#fixed-sidenav-1-6" role="button" aria-expanded="false" aria-controls="fixed-sidenav-1-6">擁有其他平台開發經驗？
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-1-6">
      <li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/android-devs">給 Android 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/swiftui-devs">給 iOS SwiftUI 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/uikit-devs">給 iOS UIKit 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/react-native-devs">給 React Native 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/web-devs">給 Web 開發者的 Flutter 指南</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/xamarin-forms-devs">給 Xamarin.Forms 開發者的 Flutter 指南</a>
  </li>

<div class="dropdown-divider"></div><li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/declarative">宣告式 UI 介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/get-started/flutter-for/dart-swift-concurrency">Flutter 對比 Swift 的併發</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dart.tw.gh.miniasp.com/overview" target="_blank" rel="noopener">Dart 語言概覽</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-2" role="button" aria-expanded="false" aria-controls="fixed-sidenav-2">保持版本更新</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-2">
            <li class="nav-item">
    <a class="nav-link" href="/release/upgrade">版本升級</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/archive">SDK 版本清單</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link" href="/release/whats-new">最近更新</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/release-notes">版本發行注記</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/breaking-changes">破壞性改動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/compatibility-policy">相容性策略</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-3" role="button" aria-expanded="false" aria-controls="fixed-sidenav-3">教程和範例程式碼</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-3">
            <li class="nav-item">
    <a class="nav-link" href="/codelabs">Codelabs</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook">實用教程 (Cookbook)</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://flutter.github.io/samples/" target="_blank" rel="noopener">GitHub 上的範例應用</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-4" role="button" aria-expanded="false" aria-controls="fixed-sidenav-4">應用解決方案</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-4">
            <li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-4-1" href="#fixed-sidenav-4-1" role="button" aria-expanded="false" aria-controls="fixed-sidenav-4-1">遊戲
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-4-1">
      <li class="nav-item">
    <a class="nav-link" href="/resources/games-toolkit">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/games/achievements-leaderboard">新增成就和排行榜</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/plugins/google-mobile-ads">新增廣告</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/games/firestore-multiplayer">新增多人遊戲支援</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases#0" target="_blank" rel="noopener">新增應用內購買</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://firebase.google.cn/codelabs/firebase-auth-in-flutter-apps#0" target="_blank" rel="noopener">新增使用者身份驗證</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://firebase.google.cn/docs/crashlytics/get-started?platform=flutter" target="_blank" rel="noopener">使用 Crashlytics 除錯</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-4-2" href="#fixed-sidenav-4-2" role="button" aria-expanded="false" aria-controls="fixed-sidenav-4-2">新聞
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-4-2">
      <li class="nav-item">
    <a class="nav-link" href="/resources/news-toolkit">建立新聞應用程式</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-4-3" href="#fixed-sidenav-4-3" role="button" aria-expanded="false" aria-controls="fixed-sidenav-4-3">盈利
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-4-3">
      <li class="nav-item">
    <a class="nav-link" href="https://flutter.dev/monetization" target="_blank" rel="noopener">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://codelabs.developers.google.com/codelabs/flutter-in-app-purchases#0" target="_blank" rel="noopener">新增應用內購買</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-4-4" href="#fixed-sidenav-4-4" role="button" aria-expanded="false" aria-controls="fixed-sidenav-4-4">地圖
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-4-4">
      <li class="nav-item">
    <a class="nav-link" href="https://developers.google.com/maps/flutter-package" target="_blank" rel="noopener">為應用程式新增地圖</a>
  </li>

</ul>
  </li>
</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-header">使用者介面</li>
    <li class="nav-item">
          <a class=" nav-link" href="/ui">介紹</a>
        </li>
      <li class="nav-item">
          <a class=" nav-link" href="/ui/widgets">Widget 目錄</a>
        </li>
      <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-9" role="button" aria-expanded="false" aria-controls="fixed-sidenav-9">佈局建立</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-9">
            <li class="nav-item">
    <a class="nav-link" href="/ui/layout">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/tutorial">佈局建立教程</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-9-3" href="/ui/layout/lists" role="button" aria-expanded="false" aria-controls="fixed-sidenav-9-3">清單 &amp; 網格
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-9-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/basic-list">建立與使用清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/horizontal-list">建立一個橫向清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/grid-lists">建立一個網格檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/mixed-list">建立包含不同型別元素的清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/spaced-items">建立元素之間包含間隔的清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/long-lists">處理長清單</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-9-4" href="/ui/layout/scrolling" role="button" aria-expanded="false" aria-controls="fixed-sidenav-9-4">捲動
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-9-4">
      <li class="nav-item">
    <a class="nav-link" href="/ui/layout/scrolling">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/scrolling/slivers">使用 Slivers 實現各種捲動需求</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/lists/floating-app-bar">在清單開頭新增一個浮動的頂欄</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/parallax-scrolling">建立一個平行錯位捲動的效果</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-9-5" href="/ui/layout/responsive" role="button" aria-expanded="false" aria-controls="fixed-sidenav-9-5">回應式設計
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-9-5">
      <li class="nav-item">
    <a class="nav-link" href="/ui/layout/responsive/adaptive-responsive">建立回應式和自適應的應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/responsive/building-adaptive-apps">建立自適應應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/orientation">根據旋轉角度更新應用的介面元素</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-10" role="button" aria-expanded="false" aria-controls="fixed-sidenav-10">設計 &amp; 主題</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-10">
            <li class="nav-item">
    <a class="nav-link" href="/cookbook/design/themes">共享主題樣式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/design/material">Material 設計</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/release/breaking-changes/material-3-migration">遷移至 Material 3</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-10-4" href="/ui/design/text" role="button" aria-expanded="false" aria-controls="fixed-sidenav-10-4">文字
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-10-4">
      <li class="nav-item">
    <a class="nav-link" href="/ui/design/text/typography">字型 &amp; 版式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/fonts">使用自定義字型</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/package-fonts">將字型從 package 中對外暴露</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://pub.dev/packages/google_fonts" target="_blank" rel="noopener">Google 字型 package</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-10-5" href="/ui/design/graphics" role="button" aria-expanded="false" aria-controls="fixed-sidenav-10-5">自定義圖形
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-10-5">
      <li class="nav-item">
    <a class="nav-link" href="/ui/design/graphics/fragment-shaders">使用自定義的著色器</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-11" role="button" aria-expanded="false" aria-controls="fixed-sidenav-11">互動</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-11">
            <li class="nav-item">
    <a class="nav-link" href="/ui/interactivity">為你的應用新增互動</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-11-2" href="/ui/interactivity/gestures" role="button" aria-expanded="false" aria-controls="fixed-sidenav-11-2">手勢
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-11-2">
      <li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/gestures">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/handling-taps">處理點選</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/gestures/drag-outside">跨應用拖放物件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/drag-a-widget">拖動介面元素</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/ripples">新增 Material 風格的水波紋</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/gestures/dismissible">實現滑動取消</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-11-3" href="/ui/interactivity/input" role="button" aria-expanded="false" aria-controls="fixed-sidenav-11-3">輸入 &amp; 表單
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-11-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/text-input">建立輸入框並且調整樣式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/retrieve-input">讀取輸入框的內容</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/text-field-changes">處理輸入框的內容變動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/focus">管理輸入框之間的焦點</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/forms/validation">建立具有校驗功能的表單</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/cookbook/design/snackbars">展示 SnackBar</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/actions-and-shortcuts">實現快捷方式和捷徑</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/interactivity/focus">管理鍵盤焦點</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-12" role="button" aria-expanded="false" aria-controls="fixed-sidenav-12">資源 &amp; 媒體</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-12">
            <li class="nav-item">
    <a class="nav-link" href="/ui/assets/assets-and-images">新增資源和圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/images/network-image">載入網路圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/images/fading-in-images">從佔位圖轉場到圖片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/plugins/play-video">播放及暫停影片</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-13" role="button" aria-expanded="false" aria-controls="fixed-sidenav-13">導向 &amp; 路由</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-13">
            <li class="nav-item">
    <a class="nav-link" href="/ui/navigation">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/tabs">新增 Tab 到應用中</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/navigation-basics">導向至新頁面並回傳</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/passing-data">傳遞資料到新頁面</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/returning-data">從新頁面回傳資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/design/drawer">在頁面上新增抽屜</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/navigation/deep-linking">設定 Deeplink</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/set-up-app-links">設定 Android Deeplink</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/navigation/set-up-universal-links">設定 iOS Universal Link</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/navigation/url-strategies">設定 Web 的 URL 策略</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link active collapsable" data-toggle="collapse" href="#fixed-sidenav-14" role="button" aria-expanded="true" aria-controls="fixed-sidenav-14">動畫 &amp; 轉場</a>
      
          <ul class="nav flex-column flex-nowrap collapse show" id="fixed-sidenav-14">
            <li class="nav-item">
    <a class="nav-link" href="/ui/animations">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link active" href="/ui/animations/tutorial">教程</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/implicit-animations">隱式動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/animated-container">轉場 Container 的屬性</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/opacity-animation">漸入漸出 widget</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/hero-animations">Hero（跨頁面共享元素）動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/page-route-animation">頁面轉場動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/animation/physics-simulation">模擬物理屬性動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/staggered-animations">交錯動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/effects/staggered-menu-animation">建立選單的交錯動畫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/animations/overview">API 概覽</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-15" role="button" aria-expanded="false" aria-controls="fixed-sidenav-15">無障礙 &amp; 國際化</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-15">
            <li class="nav-item">
    <a class="nav-link" href="/ui/accessibility-and-internationalization/accessibility">無障礙</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/accessibility-and-internationalization/internationalization">國際化</a>
  </li>


</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-header">介面以外的開發</li>
    <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-18" role="button" aria-expanded="false" aria-controls="fixed-sidenav-18">資料呼叫和後端</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-18">
            <li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-18-1" href="/data-and-backend/state-mgmt" role="button" aria-expanded="false" aria-controls="fixed-sidenav-18-1">狀態管理
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-18-1">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/intro">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/declarative">從宣告式的角度思考</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/ephemeral-vs-app">短暫狀態 &amp; 持久狀態</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/simple">簡單的狀態管理</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/state-mgmt/options">狀態管理參考</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-18-2" href="/data-and-backend/networking" role="button" aria-expanded="false" aria-controls="fixed-sidenav-18-2">網路 &amp; http
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-18-2">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/networking">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/fetch-data">從網路上獲取資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/authenticated-requests">建立需要認證的請求</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/send-data">傳送資料到伺服器</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/update-data">更新網路上的資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/delete-data">刪除網路上的資料</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/web-sockets">WebSocket 通訊</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-18-3" href="/data-and-backend/serialization" role="button" aria-expanded="false" aria-controls="fixed-sidenav-18-3">序列化
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-18-3">
      <li class="nav-item">
    <a class="nav-link" href="/data-and-backend/serialization/json">JSON 序列化</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/networking/background-parsing">在後台處理 JSON 解析</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-18-4" href="/data-and-backend/persistence" role="button" aria-expanded="false" aria-controls="fixed-sidenav-18-4">持久化
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-18-4">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/key-value">將 key-value 資料儲存在硬碟上</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/reading-writing-files">讀寫檔案</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/persistence/sqlite">利用 SQLite 持久化資料</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/data-and-backend/firebase">Firebase</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/data-and-backend/google-apis">Google APIs</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-19" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19">平台整合</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19">
            <li class="nav-item">
    <a class="nav-link" href="/reference/supported-platforms">支援的平台</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/desktop">建立桌面端應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/platform-channels">撰寫平台程式碼 (外掛編寫實現)</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/platform-adaptations">自動化平台適配</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-5" href="/platform-integration/android" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-5">Android 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-5">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/splash-screen">新增螢幕閃爍頁</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/c-interop">呼叫原生程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/platform-views">託管 Android 原生檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/restore-state-android">在 Android 上恢復狀態</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/android/chromeos">建立適合 Chrome OS 的 Android 應用</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-6" href="/platform-integration/ios" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-6">iOS 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-6">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/apple-frameworks">使用 Apple 的系統函式庫</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/launch-screen">新增啟動頁</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/ios-app-clip">新增 iOS App Clip 支援</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/app-extensions">新增 iOS App 擴充套件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/c-interop">呼叫原生程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/platform-views">託管 iOS 原生檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/ios-debugging">iOS 平台除錯</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/ios/restore-state-ios">在 iOS 上恢復狀態</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-7" href="/platform-integration/linux" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-7">Linux 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-7">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/linux/building">建立 Linux 桌面軟體</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-8" href="/platform-integration/macos" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-8">macOS 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-8">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/macos/building">建立 macOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/macos/c-interop">C 語言程式碼整合及呼叫</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-9" href="/platform-integration/web" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-9">Web 平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-9">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/building">建立一個 Web 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/faq">Web 平台常見問題</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/renderers">Web 平台渲染器</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/initialization">自定義 Web 應用初始化</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/platform-integration/web/web-images">在網頁裡顯示圖片</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-19-10" href="/platform-integration/windows" role="button" aria-expanded="false" aria-controls="fixed-sidenav-19-10">Windows 作業系統平台
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-19-10">
      <li class="nav-item">
    <a class="nav-link" href="/platform-integration/windows/building">建立 Windows 桌面軟體</a>
  </li>

</ul>
  </li>
</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-20" role="button" aria-expanded="false" aria-controls="fixed-sidenav-20">Package 和外掛</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-20">
            <li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/using-packages">使用 package 和外掛</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/developing-packages">開發 Package 和外掛</a>
  </li>

<div class="dropdown-divider"></div>
<li class="nav-item">
    <a class="nav-link" href="/packages-and-plugins/favorites">Flutter Favorites 專案</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://pub.dev/flutter" target="_blank" rel="noopener">Package 倉庫</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-21" role="button" aria-expanded="false" aria-controls="fixed-sidenav-21">測試和除錯</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-21">
            <li class="nav-header">測試</li><li class="nav-item">
    <a class="nav-link" href="/testing/overview">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-21-3" href="#fixed-sidenav-21-3" role="button" aria-expanded="false" aria-controls="fixed-sidenav-21-3">單元測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-21-3">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/unit/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/unit/mocking">模擬依賴</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-21-4" href="#fixed-sidenav-21-4" role="button" aria-expanded="false" aria-controls="fixed-sidenav-21-4">Widget 測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-21-4">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/finders">尋找 widgets</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/scrolling">模擬捲動</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/widget/tap-drag">模擬使用者操作</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-21-5" href="#fixed-sidenav-21-5" role="button" aria-expanded="false" aria-controls="fixed-sidenav-21-5">整合測試
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-21-5">
      <li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/integration/introduction">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/integration-tests">編寫並執行整合測試</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/testing/integration/profiling">衡量整合測試的效能指標</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/testing/testing-plugins">測試外掛</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/plugins-in-tests">在測試中處理外掛程式碼</a>
  </li>

<li class="nav-header">除錯</li><li class="nav-item">
    <a class="nav-link" href="/testing/debugging">除錯工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/code-debugging">透過程式碼除錯應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/native-debugging">使用原生語言的除錯</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/build-modes">Flutter 的建立模式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/common-errors">常見的 Flutter 錯誤</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/errors">處理錯誤</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/cookbook/maintenance/error-reporting">將錯誤上報到收集服務</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-22" role="button" aria-expanded="false" aria-controls="fixed-sidenav-22">效能最佳化</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-22">
            <li class="nav-item">
    <a class="nav-link" href="/perf">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/impeller">使用 Impeller</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/best-practices">效能最佳實踐</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/app-size">應用大小</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/deferred-components">延遲載入元件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/rendering-performance">渲染效能</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/ui-performance">效能分析</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/web-performance">Web 效能分析</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/shader">著色器編譯時卡頓</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/metrics">效能指標</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/isolates">併發與隔離</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/faq">效能常見問題和回答</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/perf/appendix">附錄</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-23" role="button" aria-expanded="false" aria-controls="fixed-sidenav-23">打包部署</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-23">
            <li class="nav-item">
    <a class="nav-link" href="/deployment/obfuscate">混淆 Dart 程式碼</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/flavors">設定 flavors</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/android">建立和發布為 Android 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/ios">建立和發布為 iOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/macos">建立和發布為 macOS 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/linux">建立和發布為 Linux 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/windows">建立和發布為 Windows 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/web">建立和發布為 Web 應用</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/deployment/cd">持續部署</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-24" role="button" aria-expanded="false" aria-controls="fixed-sidenav-24">將 Flutter 新增到現有應用</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-24">
            <li class="nav-item">
    <a class="nav-link" href="/add-to-app">介紹</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-24-2" href="/add-to-app/android" role="button" aria-expanded="false" aria-controls="fixed-sidenav-24-2">將 Flutter 新增到現有 Android 應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-24-2">
      <li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/project-setup">工程設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-screen">新增單個 Flutter 頁面</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-fragment">新增一個 Flutter Fragment</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/add-flutter-view">新增 Flutter 檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/android/plugin-setup">Plugin 初始化</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-24-3" href="/add-to-app/ios" role="button" aria-expanded="false" aria-controls="fixed-sidenav-24-3">將 Flutter 新增到現有 iOS 應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-24-3">
      <li class="nav-item">
    <a class="nav-link" href="/add-to-app/ios/project-setup">工程設定</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/ios/add-flutter-screen">新增單個 Flutter 頁面</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/add-to-app/debugging">除錯及熱過載</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/multiple-flutters">多個 Flutter 實例</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/add-to-app/performance">載入順序和效能</a>
  </li>


</ul>
        </li><li aria-hidden="true"><div class="sidebar-primary-divider"></div></li>
    <li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-26" role="button" aria-expanded="false" aria-controls="fixed-sidenav-26">工具 &amp; 程式碼編輯器</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-26">
            <li class="nav-item">
    <a class="nav-link" href="/tools/android-studio">Android Studio &amp; IntelliJ</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">Visual Studio Code</a>
  </li>

<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#fixed-sidenav-26-3" href="/tools/devtools" role="button" aria-expanded="false" aria-controls="fixed-sidenav-26-3">DevTools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-26-3">
      <li class="nav-item">
    <a class="nav-link" href="/tools/devtools/overview">概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/android-studio">在 Android Studio &amp; IntelliJ 中安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/vscode">在 VS Code 中安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/cli">利用終端指令安裝 DevTools</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/inspector">Flutter inspector</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/performance">效能檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/cpu-profiler">CPU 效能檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/memory">記憶體檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/console">除錯控制條檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/network">網路檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/debugger">除錯工具 Debugger</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/logging">日誌檢視</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/app-size">應用體積工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/extensions">DevTools 擴充套件工具</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/devtools/release-notes">發布日誌</a>
  </li>

</ul>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/sdk">SDK 概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/pubspec">Flutter pubspec 選項</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/flutter-fix">自動修復</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/formatting">程式碼格式化</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-27" role="button" aria-expanded="false" aria-controls="fixed-sidenav-27">Flutter 相關概念</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-27">
            <li class="nav-item">
    <a class="nav-link" href="/resources/architectural-overview">Flutter 架構概覽</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/inside-flutter">Flutter 工作原理</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/ui/layout/constraints">理解佈局約束</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/testing/build-modes">Flutter 建立模式</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/tools/hot-reload">熱過載</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link collapsed collapsable" data-toggle="collapse" href="#fixed-sidenav-28" role="button" aria-expanded="false" aria-controls="fixed-sidenav-28">開發者資源清單</a>
      
          <ul class="nav flex-column flex-nowrap collapse " id="fixed-sidenav-28">
            <li class="nav-header">學習</li><li class="nav-item">
    <a class="nav-link" href="/resources/faq">常見問題解答</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/books">相關書籍</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/videos">相關影片</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/courses">相關課程</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/resources/bootstrap-into-dart">學習 Dart</a>
  </li>

<li class="nav-header">貢獻</li><li class="nav-item">
    <a class="nav-link" href="/resources/bug-reports">提出 Bug</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener">為 Flutter 做出貢獻</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://github.com/flutter/flutter/issues?q=is%3Aopen+is%3Aissue+label%3A%22design+doc%22" target="_blank" rel="noopener">設計文件</a>
  </li>


</ul>
        </li><li class="nav-item">
          <a class="nav-link  collapsable" data-toggle="collapse" href="#fixed-sidenav-29" role="button" aria-expanded="true" aria-controls="fixed-sidenav-29">更多資料</a>
      
          <ul class="nav flex-column flex-nowrap collapse show" id="fixed-sidenav-29">
            <li class="nav-item">
    <a class="nav-link" href="/dash">瞭解 Dash</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/reference/widgets">Flutter Widget 清單</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="https://api.flutter.dev" target="_blank" rel="noopener">Flutter API 文件</a>
  </li>

<li class="nav-item">
    <a class="nav-link" href="/reference/flutter-cli">Flutter 指令行文件</a>
  </li>


</ul>
        </li></ul>

    </div>

    
  
  
  
  
  <div id="site-toc--side" class="site-toc site-toc--side fixed-col col-xl-2 order-3 " data-fixed-column="">
    <header class="site-toc__title">
      目錄
      </header>
    <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#essential-animation-concepts-and-classes"><t>基本動畫概念和類</t></a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#animationdouble">Animation&lt;double&gt;</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#curvedanimation">Curved­Animation</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#animationcontroller">Animation­Controller</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#tween">Tween</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h4"><a class="nav-link" href="#tweenanimate">Tween.animate</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#animation-notifications"><t>動畫通知</t></a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#animation-examples"><t>動畫範例</t></a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#rendering-animations"><t>渲染動畫</t></a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#simplifying-with-animatedwidget"><t>使用 Animated­Widget 進行簡化</t></a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#monitoring-the-progress-of-the-animation"><t>監控動畫過程</t></a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#refactoring-with-animatedbuilder"><t>使用 AnimatedBuilder 進行重構</t></a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#simultaneous-animations"><t>同步動畫</t></a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#next-steps"><t>下面的步驟</t></a></li>
</ul>
  </div>
<main class="site-content col-12 col-md-9 offset-md-3 col-xl-8 offset-xl-2 col-xxl-8 offset-xxl-2">
      <div class="container">

        

        

        <header class="site-content__title">
          <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/cfug/flutter.cn/tree/main/src/ui/animations/tutorial.md" class="btn no-automatic-external" title="檢視文件原始碼" target="_blank" rel="noopener">
    <i class="material-symbols">description</i>
  </a>
  <a href="https://github.com/cfug/flutter.cn/issues/new?template=1_page_issue.yml&amp;title=[頁面問題] '教程 | 在 Flutter 應用裡實現動畫效果'&amp;page-url=https://flutter.tw/ui/animations/tutorial/&amp;page-source=https://github.com/cfug/flutter.cn/tree/main/src/ui/animations/tutorial.md" class="btn no-automatic-external" title="為本頁面內容提出建議" target="_blank" rel="noopener">
    <i class="material-symbols">bug_report</i>
  </a>
</div>

          <h1 id="教程--在-flutter-應用裡實現動畫效果">教程 | 在 Flutter 應用裡實現動畫效果</h1>
          </header>
        
        
  <div id="site-toc--inline" class="site-toc site-toc--inline ">
    <header class="site-toc__title">
      目錄
    </header>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#essential-animation-concepts-and-classes"><t>基本動畫概念和類</t></a>
<ul>
<li class="toc-entry toc-h3"><a href="#animationdouble">Animation&lt;double&gt;</a></li>
<li class="toc-entry toc-h3"><a href="#curvedanimation">Curved­Animation</a></li>
<li class="toc-entry toc-h3"><a href="#animationcontroller">Animation­Controller</a></li>
<li class="toc-entry toc-h3"><a href="#tween">Tween</a>
<ul>
<li class="toc-entry toc-h4"><a href="#tweenanimate">Tween.animate</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#animation-notifications"><t>動畫通知</t></a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#animation-examples"><t>動畫範例</t></a>
<ul>
<li class="toc-entry toc-h3"><a href="#rendering-animations"><t>渲染動畫</t></a></li>
<li class="toc-entry toc-h3"><a href="#simplifying-with-animatedwidget"><t>使用 Animated­Widget 進行簡化</t></a></li>
<li class="toc-entry toc-h3"><a href="#monitoring-the-progress-of-the-animation"><t>監控動畫過程</t></a></li>
<li class="toc-entry toc-h3"><a href="#refactoring-with-animatedbuilder"><t>使用 AnimatedBuilder 進行重構</t></a></li>
<li class="toc-entry toc-h3"><a href="#simultaneous-animations"><t>同步動畫</t></a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#next-steps"><t>下面的步驟</t></a></li>
</ul>
  </div>

<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="what-youll-learn">本章內容</h4>

  

  <ul>
    <li>
      <p>如何使用動畫庫中的基本類為 widget 新增動畫。</p>

      
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 和 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 的應用區別。</p>

      
    </li>
  </ul>

</aside>

<p>本教程將講解如何在 Flutter 中建立顯式動畫。我們先來介紹一些動畫庫中的基本概念，類別和方法，然後列舉五個動畫範例。這些範例互相關聯，展示了動畫庫的不同方面。</p>



<p>Flutter SDK 也內建了顯式動畫，比如
<a href="https://api.flutter.dev/flutter/widgets/FadeTransition-class.html"><code class="language-plaintext highlighter-rouge">FadeTransition</code></a>，<a href="https://api.flutter.dev/flutter/widgets/SizeTransition-class.html"><code class="language-plaintext highlighter-rouge">SizeTransition</code></a> 和 <a href="https://api.flutter.dev/flutter/widgets/SlideTransition-class.html"><code class="language-plaintext highlighter-rouge">SlideTransition</code></a>。這些簡單的動畫可以透過設定起點和終點來觸發。它們比下面介紹的顯式動畫更容易實現。</p>



<p><a id="concepts"></a></p>
<h2 id="essential-animation-concepts-and-classes">
<a class="anchor" href="#essential-animation-concepts-and-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>基本動畫概念和類</h2>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point">重點是什麼？</h4>

  

  <ul>
    <li>
      <p><a href="https://api.flutter.dev/flutter/animation/Animation-class.html"><code class="language-plaintext highlighter-rouge">Animation</code></a>，Flutter 動畫庫中的核心類，插入用於指導動畫的值。</p>

      

      <ul>
        <li>An <code class="language-plaintext highlighter-rouge">Animation</code> object knows the current state of an animation
(for example, whether it’s started, stopped,
or moving forward or in reverse),
but doesn’t know anything about what appears onscreen.</li>
      </ul>

      <p><code class="language-plaintext highlighter-rouge">Animation</code> 物件知道動畫目前的狀態（例如，是否開始，暫停，前進或倒退），但是對螢幕上顯示的內容一無所知。</p>
    </li>
    <li>
      <p><a href="https://api.flutter.dev/flutter/animation/AnimationController-class.html"><code class="language-plaintext highlighter-rouge">AnimationController</code></a> 管理 <code class="language-plaintext highlighter-rouge">Animation</code>。</p>

      
    </li>
    <li>
      <p><a href="https://api.flutter.dev/flutter/animation/CurvedAnimation-class.html"><code class="language-plaintext highlighter-rouge">CurvedAnimation</code></a> 定義程序為非線性曲線。</p>

      
    </li>
    <li>
      <p><a href="https://api.flutter.dev/flutter/animation/Tween-class.html"><code class="language-plaintext highlighter-rouge">Tween</code></a> 為動畫物件插入一個範圍值。例如，<code class="language-plaintext highlighter-rouge">Tween</code> 可以定義插入值由紅到藍，或從 0 到 255。</p>

      
    </li>
    <li>
      <p>使用 <code class="language-plaintext highlighter-rouge">Listener</code> 和 <code class="language-plaintext highlighter-rouge">StatusListener</code> 監視動畫狀態變化。</p>

      
    </li>
  </ul>

</aside>

<p>Flutter 中的動畫系統基於型別化的 <a href="https://api.flutter.dev/flutter/animation/Animation-class.html"><code class="language-plaintext highlighter-rouge">Animation</code></a> 物件。
Widgets 既可以透過讀取當前值和監聽狀態變化直接合併動畫到 build 函式，也可以作為傳遞給其他 widgets
的更精細動畫的基礎。</p>



<p><a id="animation-class"></a></p>
<h3 id="animationdouble">
<a class="anchor" href="#animationdouble" aria-hidden="true"><span class="octicon octicon-link"></span></a>Animation<wbr>&lt;double&gt;</h3>

<p>在 Flutter 中，動畫物件無法獲取螢幕上顯示的內容。
<code class="language-plaintext highlighter-rouge">Animation</code> 是一個已知當前值和狀態（已完成或已解除）的抽象類別。一個比較常見的動畫型別是 <code class="language-plaintext highlighter-rouge">Animation&lt;double&gt;</code>。</p>



<p>一個 <code class="language-plaintext highlighter-rouge">Animation</code> 物件在一段時間內，持續生成介於兩個值之間的插入值。這個 <code class="language-plaintext highlighter-rouge">Animation</code> 物件輸出的可能是直線，曲線，階梯函式，或者任何自定義的對映。根據 <code class="language-plaintext highlighter-rouge">Animation</code> 物件的不同控制方式，它可以反向執行，或者中途切換方向。</p>



<p>動畫還可以插入除 double 以外的型別，比如 <code class="language-plaintext highlighter-rouge">Animation&lt;Color&gt;</code> 或者 <code class="language-plaintext highlighter-rouge">Animation&lt;Size&gt;</code>。</p>



<p><code class="language-plaintext highlighter-rouge">Animation</code> 物件具有狀態。它的當前值在 <code class="language-plaintext highlighter-rouge">.value</code> 中始終可用。</p>



<p><code class="language-plaintext highlighter-rouge">Animation</code> 物件與渲染或 <code class="language-plaintext highlighter-rouge">build()</code> 函式無關。</p>



<h3 id="curvedanimation">
<a class="anchor" href="#curvedanimation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Curved­Animation</h3>

<p><a href="https://api.flutter.dev/flutter/animation/CurvedAnimation-class.html"><code class="language-plaintext highlighter-rouge">CurvedAnimation</code></a> 定義動畫程序為非線性曲線。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">animation = CurvedAnimation(parent: controller, curve: Curves.easeIn);</code></pre></div>
</div>

<aside class="alert alert-info" role="alert">
  <p><i class="material-symbols" aria-hidden="true">info</i> <strong>提示：</strong></p>

  <p><a href="https://api.flutter.dev/flutter/animation/Curves-class.html"><code class="language-plaintext highlighter-rouge">Curves</code></a> 類別定義了很多常用曲線，或者你也可以自定義。例如：</p>

  
  <pre class="prettyprint lang-dart">import 'dart:math';

class ShakeCurve extends Curve {
  @override
  double transform(double t) =&gt; sin(t * pi * 2);
}</pre>

  <p>瀏覽 <a href="https://api.flutter.dev/flutter/animation/Curves-class.html"><code class="language-plaintext highlighter-rouge">Curves</code></a> 文件以獲取完整的（帶有預覽）Flutter 附帶的 <code class="language-plaintext highlighter-rouge">Curves</code> 常數清單。</p>

  

</aside>

<p><code class="language-plaintext highlighter-rouge">CurvedAnimation</code> 和 <code class="language-plaintext highlighter-rouge">AnimationController</code>（下面將會詳細說明）都是 <code class="language-plaintext highlighter-rouge">Animation&lt;double&gt;</code> 型別，所以可以互換使用。
<code class="language-plaintext highlighter-rouge">CurvedAnimation</code> 封裝正在修改的物件 — 
不需要將 <code class="language-plaintext highlighter-rouge">AnimationController</code> 分解成子類別來實現曲線。</p>



<h3 id="animationcontroller">
<a class="anchor" href="#animationcontroller" aria-hidden="true"><span class="octicon octicon-link"></span></a>Animation­Controller</h3>

<p><a href="https://api.flutter.dev/flutter/animation/AnimationController-class.html"><code class="language-plaintext highlighter-rouge">AnimationController</code></a> 是個特殊的 <code class="language-plaintext highlighter-rouge">Animation</code> 物件，每當硬體準備新幀時，他都會生成一個新值。預設情況下，<code class="language-plaintext highlighter-rouge">AnimationController</code> 在給定期間內會線性生成從 0.0 到 1.0 的數字。例如，這段程式碼建立了一個動畫物件，但是沒有啟動執行。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">controller =
    AnimationController(duration: const Duration(seconds: 2), vsync: this);</code></pre></div>
</div>

<p><code class="language-plaintext highlighter-rouge">AnimationController</code> 源自於 <code class="language-plaintext highlighter-rouge">Animation&lt;double&gt;</code>，所以可以用在任何需要 <code class="language-plaintext highlighter-rouge">Animation</code> 物件的地方。但是 <code class="language-plaintext highlighter-rouge">AnimationController</code> 還有其他方法控制動畫。例如，使用 <code class="language-plaintext highlighter-rouge">.forward()</code> 方法啟動動畫。數字的生成與螢幕重新整理關聯，所以一般來說每秒鐘會生成 60 個數字。數字生成之後，每個動畫物件都呼叫附加 Listener 物件。為每個 child 建立自定義顯示清單，請參考 <a href="https://api.flutter.dev/flutter/widgets/RepaintBoundary-class.html"><code class="language-plaintext highlighter-rouge">RepaintBoundary</code></a>。</p>



<p>建立 <code class="language-plaintext highlighter-rouge">AnimationController</code> 的同時，也賦予了一個 <code class="language-plaintext highlighter-rouge">vsync</code> 引數。
<code class="language-plaintext highlighter-rouge">vsync</code> 的存在防止後台動畫消耗不必要的資源。你可以透過新增 <code class="language-plaintext highlighter-rouge">SingleTickerProviderStateMixin</code> 到類別定義，將有狀態的物件用作 vsync。可參考 GitHub 網站 <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate1/lib/main.dart">animate1</a> 
中的範例。</p>



<aside class="alert alert-info" role="alert">
  <p><i class="material-symbols" aria-hidden="true">info</i> <strong>提示：</strong></p>

  <p>在一些情況下，一個位置可能會超過
  <code class="language-plaintext highlighter-rouge">AnimationController</code> 的 0.0-1.0 的範圍。例如，<code class="language-plaintext highlighter-rouge">fling()</code> 函式允許提供速度，力和位置（透過 Force 物件）。這個位置可以是任意的，所以可能會超出 0.0-1.0 的範圍。</p>

  

  <p>即使 <code class="language-plaintext highlighter-rouge">AnimationController</code> 在範圍內，
  <code class="language-plaintext highlighter-rouge">CurvedAnimation</code> 也可能會出現超出 0.0-1.0 範圍的情況。根據所選曲線的不同，<code class="language-plaintext highlighter-rouge">CurvedAnimation</code> 的輸出範圍可能會超過輸入。舉個例子，彈性曲線（比如Curves.elasticIn）會明顯超出或低於預設範圍。</p>

  

</aside>

<h3 id="tween">
<a class="anchor" href="#tween" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tween</h3>

<p>在預設情況下，<code class="language-plaintext highlighter-rouge">AnimationController</code> 物件的範圍是 0.0-0.1。如果需要不同的範圍或者不同的資料型別，可以使用 <a href="https://api.flutter.dev/flutter/animation/Tween-class.html"><code class="language-plaintext highlighter-rouge">Tween</code></a> 設定動畫來插入不同的範圍或資料型別。例如下面的範例中，<code class="language-plaintext highlighter-rouge">Tween</code> 的範圍是 -200 到 0.0。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">tween = Tween&lt;double&gt;(begin: -200, end: 0);</code></pre></div>
</div>

<p><code class="language-plaintext highlighter-rouge">Tween</code> 是無狀態的物件，只有 <code class="language-plaintext highlighter-rouge">begin</code> 和 <code class="language-plaintext highlighter-rouge">end</code>。
<code class="language-plaintext highlighter-rouge">Tween</code> 的這種單一用途用來定義從輸入範圍到輸出範圍的對映。輸入範圍一般為 0.0-1.0，但這並不是必須的。</p>



<p><code class="language-plaintext highlighter-rouge">Tween</code> 源自 <code class="language-plaintext highlighter-rouge">Animatable&lt;T&gt;</code>，而不是 <code class="language-plaintext highlighter-rouge">Animation&lt;T&gt;</code>。像動畫這樣的可動畫元素不必重複輸出。例如，<code class="language-plaintext highlighter-rouge">ColorTween</code> 指定了兩種顏色之間的過程。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">colorTween = ColorTween(begin: Colors.transparent, end: Colors.black54);</code></pre></div>
</div>

<p>A <code class="language-plaintext highlighter-rouge">Tween</code> object doesn’t store any state. Instead, it provides the
<a href="https://api.flutter.dev/flutter/animation/Animation/value.html"><code class="language-plaintext highlighter-rouge">evaluate(Animation&lt;double&gt; animation)</code></a> method that uses the 
<code class="language-plaintext highlighter-rouge">transform</code> function to map the current value of the animation
(between 0.0 and 1.0), to the actual animation value.</p>

<p><code class="language-plaintext highlighter-rouge">Tween</code> 物件不儲存任何狀態。而是提供 <code class="language-plaintext highlighter-rouge">evaluate(Animation&lt;double&gt; animation)</code> 方法，將對映函式應用於動畫當前值。
<code class="language-plaintext highlighter-rouge">Animation</code> 物件的當前值可以在 <code class="language-plaintext highlighter-rouge">.value</code> 方法中找到。
evaluate 函式還執行一些內部處理內容，比如確保當動畫值在 0.0 和1.0 時分別回傳起始點和終點。</p>



<h4 id="tweenanimate">
<a class="anchor" href="#tweenanimate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tween.animate</h4>

<p>要使用 <code class="language-plaintext highlighter-rouge">Tween</code> 物件，請在 <code class="language-plaintext highlighter-rouge">Tween</code> 呼叫 <code class="language-plaintext highlighter-rouge">animate()</code>，傳入控制器物件。例如，下面的程式碼在 500 ms 的程序中生成 0-255 範圍內的整數值。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">AnimationController controller = AnimationController(
    duration: const Duration(milliseconds: 500), vsync: this);
Animation&lt;int&gt; alpha = IntTween(begin: 0, end: 255).animate(controller);</code></pre></div>
</div>

<aside class="alert alert-info" role="alert">
  <p><i class="material-symbols" aria-hidden="true">info</i> <strong>提示：</strong></p>

  <p><code class="language-plaintext highlighter-rouge">animate()</code> 方法會回傳一個 <a href="https://api.flutter.dev/flutter/animation/Animation-class.html"><code class="language-plaintext highlighter-rouge">Animation</code></a>，而不是 <a href="https://api.flutter.dev/flutter/animation/Animatable-class.html"><code class="language-plaintext highlighter-rouge">Animatable</code></a>。</p>

  

</aside>

<p>下面的範例展示了一個控制器，一個曲線，和一個 <code class="language-plaintext highlighter-rouge">Tween</code>。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">AnimationController controller = AnimationController(
    duration: const Duration(milliseconds: 500), vsync: this);
final Animation&lt;double&gt; curve =
    CurvedAnimation(parent: controller, curve: Curves.easeOut);
Animation&lt;int&gt; alpha = IntTween(begin: 0, end: 255).animate(curve);</code></pre></div>
</div>

<h3 id="animation-notifications">
<a class="anchor" href="#animation-notifications" aria-hidden="true"><span class="octicon octicon-link"></span></a>動畫通知</h3>



<p>一個 <a href="https://api.flutter.dev/flutter/animation/Animation-class.html"><code class="language-plaintext highlighter-rouge">Animation</code></a> 物件可以有不止一個
<code class="language-plaintext highlighter-rouge">Listener</code> 和 <code class="language-plaintext highlighter-rouge">StatusListener</code>，用 <code class="language-plaintext highlighter-rouge">addListener()</code> 和 <code class="language-plaintext highlighter-rouge">addStatusListener()</code> 來定義。當動畫值改變時調用 <code class="language-plaintext highlighter-rouge">Listener</code>。
<code class="language-plaintext highlighter-rouge">Listener</code> 最常用的操作是呼叫 <code class="language-plaintext highlighter-rouge">setState()</code> 進行重建。當一個動畫開始，結束，前進或後退時，會呼叫 <code class="language-plaintext highlighter-rouge">StatusListener</code>，用 <code class="language-plaintext highlighter-rouge">AnimationStatus</code> 來定義。下一部分有關於 <code class="language-plaintext highlighter-rouge">addListener()</code> 方法的範例，在 <a href="#monitoring">監控動畫過程</a>
中也有 <code class="language-plaintext highlighter-rouge">addStatusListener()</code> 的範例。</p>



<hr>

<h2 id="animation-examples">
<a class="anchor" href="#animation-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>動畫範例</h2>



<p>這部分列舉了五個動畫範例，每個範例都提供了原始碼的連結。</p>



<h3 id="rendering-animations">
<a class="anchor" href="#rendering-animations" aria-hidden="true"><span class="octicon octicon-link"></span></a>渲染動畫</h3>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point-1">要點</h4>

  

  <ul>
    <li>
      <p>如何使用 <code class="language-plaintext highlighter-rouge">addListener()</code> 和 <code class="language-plaintext highlighter-rouge">setState()</code> 為 widget 新增基礎動畫。</p>

      
    </li>
    <li>
      <p>每次動畫生成一個新的數字，<code class="language-plaintext highlighter-rouge">addListener()</code> 函式就會呼叫 <code class="language-plaintext highlighter-rouge">setState()</code>。</p>

      
    </li>
    <li>
      <p>如何使用所需的 <code class="language-plaintext highlighter-rouge">vsync</code> 引數定義一個 <code class="language-plaintext highlighter-rouge">AnimationController</code>。</p>

      
    </li>
    <li>
      <p>理解 “<code class="language-plaintext highlighter-rouge">..addListener</code>” 中的 “<code class="language-plaintext highlighter-rouge">..</code>” 語法，也稱為 Dart 的 <em>cascade notation</em>。</p>

      
    </li>
    <li>
      <p>如需使類私有，在名字前面新增下劃線（<code class="language-plaintext highlighter-rouge">_</code>）。</p>

      
    </li>
  </ul>

</aside>

<p>目前為止，我們學習瞭如何隨著時間生成數字序列。但螢幕上並未顯示任何內容。要顯示一個 <code class="language-plaintext highlighter-rouge">Animation</code> 物件，需將 <code class="language-plaintext highlighter-rouge">Animation</code> 物件儲存為你的 widget 成員，然後用它的值來決定如何繪製。</p>



<p>參考下面的應用程式，它沒有使用動畫繪製 Flutter logo。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">import 'package:flutter/material.dart';

void main() =&gt; runApp(const LogoApp());

class LogoApp extends StatefulWidget {
  const LogoApp({super.key});

  @override
  State&lt;LogoApp&gt; createState() =&gt; _LogoAppState();
}

class _LogoAppState extends State&lt;LogoApp&gt; {
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Container(
        margin: const EdgeInsets.symmetric(vertical: 10),
        height: 300,
        width: 300,
        child: const FlutterLogo(),
      ),
    );
  }
}</code></pre></div>
</div>

<p><strong>原始碼:</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate0">animate0</a></p>



<p>下面的程式碼是加入動畫效果的，logo 從無到全屏。當定義 <code class="language-plaintext highlighter-rouge">AnimationController</code> 時，必須要使用一個 <code class="language-plaintext highlighter-rouge">vsync</code> 物件。在 <a href="#animationcontroller"><code class="language-plaintext highlighter-rouge">AnimationController</code> 部分</a>
會具體介紹 <code class="language-plaintext highlighter-rouge">vsync</code> 引數。</p>



<p>對比無動畫範例，改動部分被突出顯示：</p>



<div class="d2h-wrapper d2h-auto-color-scheme">
    <div id="d2h-384068" class="d2h-file-wrapper" data-lang="dart">
    <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
        <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">{animate0 → animate1}/lib/main.dart</span>
    </span>
<label class="d2h-file-collapse">
    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">
    Viewed
</label>
    </div>
    <div class="d2h-file-diff">
        <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
                <tbody class="d2h-diff-tbody">
                <tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -9,16 +9,39 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">9</div>
<div class="line-num2">9</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  State&lt;LogoApp&gt; createState() =&gt; _LogoAppState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">10</div>
<div class="line-num2">10</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">11</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">class _LogoAppState extends State&lt;LogoApp&gt; {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">11</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">class _LogoAppState extends State&lt;LogoApp&gt; <ins>with SingleTickerProviderStateMixin </ins>{</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">12</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  late Animation&lt;double&gt; animation;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">13</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  late AnimationController controller;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">14</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">15</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">16</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  void initState() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">17</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    super.initState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">18</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    controller =</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">19</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        AnimationController(duration: const Duration(seconds: 2), vsync: this);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">20</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">21</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      ..addListener(() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">22</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        setState(() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">23</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">          // The state that has changed here is the animation object's value.</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">24</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        });</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">25</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      });</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">26</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    controller.forward();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">27</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">28</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">12</div>
<div class="line-num2">29</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">13</div>
<div class="line-num2">30</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">14</div>
<div class="line-num2">31</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    return Center(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">15</div>
<div class="line-num2">32</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">      child: Container(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">16</div>
<div class="line-num2">33</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">        margin: const EdgeInsets.symmetric(vertical: 10),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">17</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        height: <del>300</del>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">18</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        width: <del>300</del>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">34</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        height: <ins>animation.value</ins>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">35</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        width: <ins>animation.value</ins>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">19</div>
<div class="line-num2">36</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">        child: const FlutterLogo(),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">20</div>
<div class="line-num2">37</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">      ),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">21</div>
<div class="line-num2">38</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">22</div>
<div class="line-num2">39</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">40</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">41</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">42</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  void dispose() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">43</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    controller.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">44</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    super.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">45</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">23</div>
<div class="line-num2">46</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

<p><strong>原始碼:</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate1">animate1</a></p>



<p>因為<code class="language-plaintext highlighter-rouge">addListener()</code> 函式呼叫 <code class="language-plaintext highlighter-rouge">setState()</code>，所以每次 <code class="language-plaintext highlighter-rouge">Animation</code> 生成一個新的數字，當前幀就被標記為 dirty，使得 <code class="language-plaintext highlighter-rouge">build()</code> 再次被呼叫。在 <code class="language-plaintext highlighter-rouge">build()</code> 函式中，container 會改變大小，因為它的高和寬都讀取 <code class="language-plaintext highlighter-rouge">animation.value</code>，而不是固定編碼值。當 <code class="language-plaintext highlighter-rouge">State</code> 物件銷燬時要清除控制器以防止記憶體溢位。</p>



<p>經過這些小改動，你成功建立了第一個 Flutter 動畫。</p>



<aside class="alert alert-secondary" role="alert">

  <p><strong>Dart 語言技巧：</strong>
  你可能對於 Dart 的級聯運算子（<code class="language-plaintext highlighter-rouge">..addListener()</code> 中的兩點）不太熟悉。這個語法意思是使用 <code class="language-plaintext highlighter-rouge">animate()</code> 的回傳值呼叫  <code class="language-plaintext highlighter-rouge">addListener()</code> 方法。參考下面範例：</p>

  
  <pre class="prettyprint lang-dart"><span class="highlight">animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)</span>
  <span class="highlight">..addListener</span>(() {
    // ···
  });</pre>

  <p>這段程式碼相當於：</p>

  
  <pre class="prettyprint lang-dart"><span class="highlight">animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller);</span>
<span class="highlight">animation.addListener(() {</span>
    // ···
  });</pre>

  <p>要了解更多級聯運算子的內容，請參考 <a href="https://dart.tw.gh.miniasp.com/language">Dart 文件網站</a>
  裡的文件 <a href="https://dart.tw.gh.miniasp.com/language/operators#cascade-notation">Cascade notation</a>。</p>

  

</aside>

<h3 id="simplifying-with-animatedwidget">
<a class="anchor" href="#simplifying-with-animatedwidget" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用 Animated­Widget 進行簡化</h3>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point-2">要點</h4>

  

  <ul>
    <li>
      <p>如何使用 <a href="https://api.flutter.dev/flutter/widgets/AnimatedWidget-class.html"><code class="language-plaintext highlighter-rouge">AnimatedWidget</code></a> 幫助類（代替 <code class="language-plaintext highlighter-rouge">addListener()</code> 和 <code class="language-plaintext highlighter-rouge">setState()</code>）建立動畫 widget。</p>

      
    </li>
    <li>
      <p>利用 <code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 建立一個可以執行重複使用動畫的 widget。如需區分 widget 轉場，可以使用 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code>，你可以在
<a href="#refactoring-with-animatedbuilder">使用 AnimatedBuilder 進行重構</a>
部分查閱更多訊息。</p>

      
    </li>
    <li>
      <p>Flutter API 中的 <code class="language-plaintext highlighter-rouge">AnimatedWidget</code>：<code class="language-plaintext highlighter-rouge">AnimatedBuilder</code>,
<code class="language-plaintext highlighter-rouge">RotationTransition</code>, <code class="language-plaintext highlighter-rouge">ScaleTransition</code>, <code class="language-plaintext highlighter-rouge">SizeTransition</code>, <code class="language-plaintext highlighter-rouge">SlideTransition</code>。</p>

      
    </li>
  </ul>

</aside>

<p><code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 基本類可以從動畫程式碼中區分出核心 widget 程式碼。
<code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 不需要保持 <code class="language-plaintext highlighter-rouge">State</code> 物件來 hold 動畫。可以新增下面的 <code class="language-plaintext highlighter-rouge">AnimatedLogo</code> 類：</p>



<div class="code-excerpt">
<div class="code-excerpt__header">lib/main.dart (AnimatedLogo)</div>
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">class AnimatedLogo extends AnimatedWidget {
  const AnimatedLogo({super.key, required Animation&lt;double&gt; animation})
      : super(listenable: animation);

  @override
  Widget build(BuildContext context) {
    final animation = listenable as Animation&lt;double&gt;;
    return Center(
      child: Container(
        margin: const EdgeInsets.symmetric(vertical: 10),
        height: animation.value,
        width: animation.value,
        child: const FlutterLogo(),
      ),
    );
  }
}</code></pre></div>
</div>

<p>在繪製時，<code class="language-plaintext highlighter-rouge">AnimatedLogo</code> 會讀取 <code class="language-plaintext highlighter-rouge">animation</code> 當前值。</p>



<p><code class="language-plaintext highlighter-rouge">LogoApp</code> 持續控制 <code class="language-plaintext highlighter-rouge">AnimationController</code> 和 <code class="language-plaintext highlighter-rouge">Tween</code>，並將 <code class="language-plaintext highlighter-rouge">Animation</code> 物件傳給 <code class="language-plaintext highlighter-rouge">AnimatedLogo</code>：</p>



<div class="d2h-wrapper d2h-auto-color-scheme">
    <div id="d2h-463908" class="d2h-file-wrapper" data-lang="dart">
    <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
        <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">{animate1 → animate2}/lib/main.dart</span>
    </span>
<label class="d2h-file-collapse">
    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">
    Viewed
</label>
    </div>
    <div class="d2h-file-diff">
        <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
                <tbody class="d2h-diff-tbody">
                <tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -1,10 +1,28 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">1</div>
<div class="line-num2">1</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">import 'package:flutter/material.dart';</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">2</div>
<div class="line-num2">2</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">void main() =&gt; runApp(const LogoApp());</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">3</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">class AnimatedLogo extends AnimatedWidget {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">4</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  const AnimatedLogo({super.key, required Animation&lt;double&gt; animation})</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">5</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      : super(listenable: animation);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">6</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">7</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">8</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">9</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    final animation = listenable as Animation&lt;double&gt;;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">10</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    return Center(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">11</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      child: Container(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">12</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        margin: const EdgeInsets.symmetric(vertical: 10),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">13</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        height: animation.value,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">14</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        width: animation.value,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">15</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        child: const FlutterLogo(),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">16</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      ),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">17</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">18</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">19</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">20</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">3</div>
<div class="line-num2">21</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">class LogoApp extends StatefulWidget {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">4</div>
<div class="line-num2">22</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  const LogoApp({super.key});</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">5</div>
<div class="line-num2">23</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">6</div>
<div class="line-num2">24</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  State&lt;LogoApp&gt; createState() =&gt; _LogoAppState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">7</div>
<div class="line-num2">25</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -15,32 +33,18 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">15</div>
<div class="line-num2">33</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">16</div>
<div class="line-num2">34</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  void initState() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">17</div>
<div class="line-num2">35</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    super.initState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">18</div>
<div class="line-num2">36</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller =</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">19</div>
<div class="line-num2">37</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">        AnimationController(duration: const Duration(seconds: 2), vsync: this);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">20</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">21</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">      ..addListener(() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">22</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        setState(() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">23</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">          // The state that has changed here is the animation object's value.</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">24</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        });</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">25</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">      });</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">38</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)<ins>;</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">26</div>
<div class="line-num2">39</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller.forward();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">27</div>
<div class="line-num2">40</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">28</div>
<div class="line-num2">41</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">29</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) <del>{</del></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">30</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">    return Center(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">31</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">      child: Container(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">32</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        margin: const EdgeInsets.symmetric(vertical: 10),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">33</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        height: animation.value,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">34</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        width: animation.value,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">35</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        child: const FlutterLogo(),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">36</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">      ),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">37</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">38</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">42</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) <ins>=&gt; AnimatedLogo(animation: animation);</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">39</div>
<div class="line-num2">43</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">40</div>
<div class="line-num2">44</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  void dispose() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">41</div>
<div class="line-num2">45</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">42</div>
<div class="line-num2">46</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    super.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">43</div>
<div class="line-num2">47</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

<p><strong>原始碼：</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate2">animate2</a></p>



<p><a id="monitoring"></a></p>
<h3 id="monitoring-the-progress-of-the-animation">
<a class="anchor" href="#monitoring-the-progress-of-the-animation" aria-hidden="true"><span class="octicon octicon-link"></span></a>監控動畫過程</h3>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point-3">要點</h4>

  

  <ul>
    <li>
      <p>使用 <code class="language-plaintext highlighter-rouge">addStatusListener()</code> 作為動畫狀態的變更提示，比如開始，結束，或改變方向。</p>

      
    </li>
    <li>
      <p>透過在動畫完成或回傳起始狀態時改變方向，使動畫無限迴圈。</p>

      
    </li>
  </ul>

</aside>

<p>瞭解動畫何時改變狀態通常是很有用的，比如完成，前進或後退。可以透過 <code class="language-plaintext highlighter-rouge">addStatusListener()</code> 來獲得提示。下面是之前範例修改後的程式碼，這樣就可以監聽狀態的改變和更新。修改部分會突出顯示：</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">class _LogoAppState extends State&lt;LogoApp&gt; with SingleTickerProviderStateMixin {
  late Animation&lt;double&gt; animation;
  late AnimationController controller;

  @override
  void initState() {
    super.initState();
    controller =
        AnimationController(duration: const Duration(seconds: 2), vsync: this);
    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)
      <span class="highlight">..addStatusListener((status) =&gt; print('$status'));</span>
    controller.forward();
  }
  // ...
}</code></pre></div>
</div>

<p>執行這段程式碼，得到如下結果：</p>



<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">AnimationStatus.forward
AnimationStatus.completed
</span></code></pre></div></div>

<p>下一步，在起始或結束時，使用 <code class="language-plaintext highlighter-rouge">addStatusListener()</code> 反轉動畫。製造『呼吸』效果：</p>



<div class="d2h-wrapper d2h-auto-color-scheme">
    <div id="d2h-543748" class="d2h-file-wrapper" data-lang="dart">
    <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
        <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">{animate2 → animate3}/lib/main.dart</span>
    </span>
<label class="d2h-file-collapse">
    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">
    Viewed
</label>
    </div>
    <div class="d2h-file-diff">
        <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
                <tbody class="d2h-diff-tbody">
                <tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -35,7 +35,15 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">35</div>
<div class="line-num2">35</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  void initState() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">36</div>
<div class="line-num2">36</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    super.initState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">37</div>
<div class="line-num2">37</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller =</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">38</div>
<div class="line-num2">38</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">        AnimationController(duration: const Duration(seconds: 2), vsync: this);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">39</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)<del>;</del></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">39</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller)</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">40</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      ..addStatusListener((status) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">41</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        if (status == AnimationStatus.completed) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">42</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">          controller.reverse();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">43</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        } else if (status == AnimationStatus.dismissed) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">44</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">          controller.forward();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">45</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">46</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      })</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">47</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      ..addStatusListener((status) =&gt; print('$status'));</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">40</div>
<div class="line-num2">48</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller.forward();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">41</div>
<div class="line-num2">49</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

<p><strong>原始碼：</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate3">animate3</a></p>



<h3 id="refactoring-with-animatedbuilder">
<a class="anchor" href="#refactoring-with-animatedbuilder" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用 AnimatedBuilder 進行重構</h3>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point-4">要點</h4>

  

  <ul>
    <li>
      <p><a href="https://api.flutter.dev/flutter/widgets/AnimatedBuilder-class.html"><code class="language-plaintext highlighter-rouge">AnimatedBuilder</code></a> 知道如何渲染轉場效果</p>

      
    </li>
    <li>
      <p>但 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 不會渲染 widget，也不會控制動畫物件。</p>

      
    </li>
    <li>
      <p>使用 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 描述一個動畫是其他 widget 建立方法的一部分。如果只是單純需要用可重複使用的動畫定義一個 widget，可參考文件：<a href="#simplifying-with-animatedwidget">簡單使用 AnimatedWidget</a>。</p>

      
    </li>
    <li>
      <p>Flutter API 中 <code class="language-plaintext highlighter-rouge">AnimatedBuilders</code>：<code class="language-plaintext highlighter-rouge">BottomSheet</code>, <code class="language-plaintext highlighter-rouge">ExpansionTile</code>,
<code class="language-plaintext highlighter-rouge">PopupMenu</code>, <code class="language-plaintext highlighter-rouge">ProgressIndicator</code>, <code class="language-plaintext highlighter-rouge">RefreshIndicator</code>, <code class="language-plaintext highlighter-rouge">Scaffold</code>, <code class="language-plaintext highlighter-rouge">SnackBar</code>, <code class="language-plaintext highlighter-rouge">TabBar</code>,
<code class="language-plaintext highlighter-rouge">TextField</code>。</p>

      
    </li>
  </ul>

</aside>

<p><a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate3">animate3</a> 範例程式碼中有個問題，就是改變動畫需要改變渲染 logo 的widget。較好的解決辦法是，將任務區分到不同類裡：</p>



<ul>
  <li>
    <p>渲染 logo</p>

    
  </li>
  <li>
    <p>定義動畫物件</p>

    
  </li>
  <li>
    <p>渲染轉場效果</p>

    
  </li>
</ul>

<p>你可以使用 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 類方法來完成分配。
<code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 作為渲染樹的一個單獨類。像 <code class="language-plaintext highlighter-rouge">AnimatedWidget</code>，<code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 自動監聽動畫物件提示，並在必要時在 widget 樹中標出，所以這時不需要呼叫 <code class="language-plaintext highlighter-rouge">addListener()</code>。</p>



<p>應用於 <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate4">animate4</a> 範例的 widget 樹長這樣：</p>



<p><img src="/assets/images/docs/ui/AnimatedBuilder-WidgetTree.png" alt="AnimatedBuilder widget tree" class="d-block mx-auto" width="160px"></p>

<p>從 widget 樹底部開始，渲染 logo 的程式碼很容易：</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">class LogoWidget extends StatelessWidget {
  const LogoWidget({super.key});

  // Leave out the height and width so it fills the animating parent
  @override
  Widget build(BuildContext context) {
    return Container(
      margin: const EdgeInsets.symmetric(vertical: 10),
      child: const FlutterLogo(),
    );
  }
}</code></pre></div>
</div>

<p>圖表中間的三部分都是用 <code class="language-plaintext highlighter-rouge">GrowTransition</code> 中的 <code class="language-plaintext highlighter-rouge">build()</code> 方法建立的，如下。 <code class="language-plaintext highlighter-rouge">GrowTransition</code> widget 本身是無狀態的，而且擁有定義轉場動畫所需的一系列最終變數。
build() 函式建立並回傳 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code>，
<code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 使用（<code class="language-plaintext highlighter-rouge">Anonymous</code> builder）方法並將 LogoWidget 物件作為引數。渲染轉場效果實際上是在（<code class="language-plaintext highlighter-rouge">Anonymous</code> builder）方法中完成的，該方法建立一個適當大小 <code class="language-plaintext highlighter-rouge">Container</code> 強制 <code class="language-plaintext highlighter-rouge">LogoWidget</code> 配合。</p>



<p>在下面這段程式碼中，一個比較棘手的問題是 child 看起來被指定了兩次。其實是 child 的外部參照被傳遞給了 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code>，再傳遞給匿名閉包，然後用作 child 的物件。最終結果就是 <code class="language-plaintext highlighter-rouge">AnimatedBuilder</code> 被插入渲染樹的兩個 widgets 中間。</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">class GrowTransition extends StatelessWidget {
  const GrowTransition(
      {required this.child, required this.animation, super.key});

  final Widget child;
  final Animation&lt;double&gt; animation;

  @override
  Widget build(BuildContext context) {
    return Center(
      child: AnimatedBuilder(
        animation: animation,
        builder: (context, child) {
          return SizedBox(
            height: animation.value,
            width: animation.value,
            child: child,
          );
        },
        child: child,
      ),
    );
  }
}</code></pre></div>
</div>

<p>最後，初始動畫的程式碼看起來很像 <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate2">animate2</a> 的範例。
<code class="language-plaintext highlighter-rouge">initState()</code> 方法建立了 <code class="language-plaintext highlighter-rouge">AnimationController</code> 和 <code class="language-plaintext highlighter-rouge">Tween</code>，然後用 <code class="language-plaintext highlighter-rouge">animate()</code> 繫結它們。神奇的是 <code class="language-plaintext highlighter-rouge">build()</code> 方法，它回傳一個以<code class="language-plaintext highlighter-rouge">LogoWidget</code> 為 child 的  <code class="language-plaintext highlighter-rouge">GrowTransition</code> 物件，和一個驅動轉場的動畫物件。上面列出了三個主要因素。</p>



<div class="d2h-wrapper d2h-auto-color-scheme">
    <div id="d2h-009571" class="d2h-file-wrapper" data-lang="dart">
    <div class="d2h-file-header">
    <span class="d2h-file-name-wrapper">
    <svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">
        <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>
    </svg>    <span class="d2h-file-name">{animate2 → animate4}/lib/main.dart</span>
    </span>
<label class="d2h-file-collapse">
    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">
    Viewed
</label>
    </div>
    <div class="d2h-file-diff">
        <div class="d2h-code-wrapper">
            <table class="d2h-diff-table">
                <tbody class="d2h-diff-tbody">
                <tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -1,27 +1,47 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">1</div>
<div class="line-num2">1</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">import 'package:flutter/material.dart';</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">2</div>
<div class="line-num2">2</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">void main() =&gt; runApp(const LogoApp());</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">3</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">class <del>AnimatedLogo</del> extends <del>AnimatedWidget</del> {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">4</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">  const <del>AnimatedLogo</del>({super.key<del>, required Animation&lt;double&gt; animation</del>})</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">5</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn"><del>      : super(listenable: animation);</del></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">3</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">class <ins>LogoWidget</ins> extends <ins>StatelessWidget</ins> {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">4</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  const <ins>LogoWidget</ins>({super.key})<ins>;</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">5</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">6</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  // Leave out the height and width so it fills the animating parent</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">7</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">8</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">9</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    return Container(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">10</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      margin: const EdgeInsets.symmetric(vertical: 10),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">11</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      child: const FlutterLogo(),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">12</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">13</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">14</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">15</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">16</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">class GrowTransition extends StatelessWidget {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">17</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  const GrowTransition(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">18</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      {required this.child, required this.animation, super.key});</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">19</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><br></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">20</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  final Widget child;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">21</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  final Animation&lt;double&gt; animation;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">6</div>
<div class="line-num2">22</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">7</div>
<div class="line-num2">23</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del">
      <div class="line-num1">8</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">    final animation = listenable as Animation&lt;double&gt;;</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">9</div>
<div class="line-num2">24</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    return Center(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">10</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">      child: <del>Container</del>(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">11</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        <del>margin</del>: <del>const EdgeInsets.symmetric(vertical: 10)</del>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">12</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">        <del>height</del>: <del>animation.value</del>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">13</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn"><del>        width:</del> <del>animation.value,</del></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">14</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn"><del>        child</del>: <del>const FlutterLogo()</del>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">25</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      child: <ins>AnimatedBuilder</ins>(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">26</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        <ins>animation</ins>: <ins>animation</ins>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">27</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        <ins>builder</ins>: <ins>(context</ins>,<ins> child) {</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">28</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><ins>          return</ins> <ins>SizedBox(</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">29</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn"><ins>            height</ins>: <ins>animation.value</ins>,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">30</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">            width: animation.value,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">31</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">            child: child,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">32</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">          );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">33</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        },</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">34</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">        child: child,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">15</div>
<div class="line-num2">35</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">      ),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">16</div>
<div class="line-num2">36</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">17</div>
<div class="line-num2">37</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">18</div>
<div class="line-num2">38</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">19</div>
<div class="line-num2">39</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">class LogoApp extends StatefulWidget {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">20</div>
<div class="line-num2">40</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  const LogoApp({super.key});</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">21</div>
<div class="line-num2">41</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">22</div>
<div class="line-num2">42</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  State&lt;LogoApp&gt; createState() =&gt; _LogoAppState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-info"></td>
    <td class="d2h-info">
        <div class="d2h-code-line">@@ -34,18 +54,23 @@</div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">34</div>
<div class="line-num2">54</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">35</div>
<div class="line-num2">55</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  void initState() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">36</div>
<div class="line-num2">56</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    super.initState();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">37</div>
<div class="line-num2">57</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller =</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">38</div>
<div class="line-num2">58</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">        AnimationController(duration: const Duration(seconds: 2), vsync: this);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">39</div>
<div class="line-num2">59</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    animation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller);</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">40</div>
<div class="line-num2">60</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller.forward();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">41</div>
<div class="line-num2">61</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">42</div>
<div class="line-num2">62</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-del d2h-change">
      <div class="line-num1">43</div>
<div class="line-num2"></div>
    </td>
    <td class="d2h-del d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">-</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) <del>=&gt; AnimatedLogo(animation: animation);</del></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins d2h-change">
      <div class="line-num1"></div>
<div class="line-num2">63</div>
    </td>
    <td class="d2h-ins d2h-change">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  Widget build(BuildContext context) <ins>{</ins></span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">64</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    return GrowTransition(</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">65</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      animation: animation,</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">66</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">      child: const LogoWidget(),</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">67</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">    );</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-ins">
      <div class="line-num1"></div>
<div class="line-num2">68</div>
    </td>
    <td class="d2h-ins">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">+</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">44</div>
<div class="line-num2">69</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  @override</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">45</div>
<div class="line-num2">70</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  void dispose() {</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">46</div>
<div class="line-num2">71</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    controller.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">47</div>
<div class="line-num2">72</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">    super.dispose();</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">48</div>
<div class="line-num2">73</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">  }</span>
        </div>
    </td>
</tr>
<tr>
    <td class="d2h-code-linenumber d2h-cntx">
      <div class="line-num1">49</div>
<div class="line-num2">74</div>
    </td>
    <td class="d2h-cntx">
        <div class="d2h-code-line">
            <span class="d2h-code-line-prefix">&nbsp;</span>
            <span class="d2h-code-line-ctn">}</span>
        </div>
    </td>
</tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>

<p><strong>原始碼：</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate4">animate4</a></p>



<h3 id="simultaneous-animations">
<a class="anchor" href="#simultaneous-animations" aria-hidden="true"><span class="octicon octicon-link"></span></a>同步動畫</h3>



<aside class="alert alert-secondary" role="alert">

  <h4 class="no_toc" id="whats-the-point-5">重點提醒</h4>

  

  <ul>
    <li>
      <p><a href="https://api.flutter.dev/flutter/animation/Curves-class.html"><code class="language-plaintext highlighter-rouge">Curves</code></a> 類別定義了一列常用的曲線，你可以配合 <a href="https://api.flutter.dev/flutter/animation/CurvedAnimation-class.html"><code class="language-plaintext highlighter-rouge">CurvedAnimation</code></a> 來使用。</p>

      
    </li>
  </ul>

</aside>

<p>在這部分內容中，你會根據 <a href="#monitoring">監控動畫過程</a> (<a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate3">animate3</a>) 建立範例，該範例將使用 <code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 持續進行動畫。可以用在需要對透明度進行從透明到不透明動畫處理的情況。</p>



<aside class="alert alert-info" role="alert">
  <p><i class="material-symbols" aria-hidden="true">info</i> <strong>提示：</strong></p>

  <p>這個範例展示了如何在同一個動畫控制器中使用複合補間動畫，每個補間動畫控制一個動畫的不同效果。僅用於說明目的。如果你需要在程式碼中加入漸變不透明度和尺寸效果，可能需要用 <a href="https://api.flutter.dev/flutter/widgets/FadeTransition-class.html"><code class="language-plaintext highlighter-rouge">FadeTransition</code></a> 和 <a href="https://api.flutter.dev/flutter/widgets/SizeTransition-class.html"><code class="language-plaintext highlighter-rouge">SizeTransition</code></a> 來代替。</p>

  

</aside>

<p>每個補間動畫控制一個動畫的不同方面，例如：</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">controller =
    AnimationController(duration: const Duration(seconds: 2), vsync: this);
sizeAnimation = Tween&lt;double&gt;(begin: 0, end: 300).animate(controller);
opacityAnimation = Tween&lt;double&gt;(begin: 0.1, end: 1).animate(controller);</code></pre></div>
</div>

<p>透過 <code class="language-plaintext highlighter-rouge">sizeAnimation.value</code> 我們可以得到尺寸，透過 <code class="language-plaintext highlighter-rouge">opacityAnimation.value</code> 可以得到不透明度，但是 <code class="language-plaintext highlighter-rouge">AnimatedWidget</code> 的建構式函式只讀取單一的 <code class="language-plaintext highlighter-rouge">Animation</code> 物件。為了解決這個問題，該範例建立了一個 <code class="language-plaintext highlighter-rouge">Tween</code> 物件並計算確切值。</p>



<p>修改 <code class="language-plaintext highlighter-rouge">AnimatedLogo</code> 來封裝其 <code class="language-plaintext highlighter-rouge">Tween</code> 物件，以及其 <code class="language-plaintext highlighter-rouge">build()</code> 方法在母動畫物件上呼叫
<code class="language-plaintext highlighter-rouge">Tween.evaluate()</code> 來計算所需的尺寸和不透明度值。下面的程式碼中將這些改動突出顯示：</p>



<div class="code-excerpt">
<div class="code-excerpt__code"><pre><code class="dart prettyprint lang-dart">class AnimatedLogo extends AnimatedWidget {
  const AnimatedLogo({super.key, required Animation&lt;double&gt; animation})
      : super(listenable: animation);

  // Make the Tweens static because they don't change.
  <span class="highlight">static final _opacityTween = Tween&lt;double&gt;(begin: 0.1, end: 1);</span>
  <span class="highlight">static final _sizeTween = Tween&lt;double&gt;(begin: 0, end: 300);</span>

  @override
  Widget build(BuildContext context) {
    final animation = listenable as Animation&lt;double&gt;;
    return Center(
      <span class="highlight">child: Opacity(</span>
        <span class="highlight">opacity: _opacityTween.evaluate(animation),</span>
        child: Container(
          margin: const EdgeInsets.symmetric(vertical: 10),
          height: <span class="highlight">_sizeTween.evaluate(animation),</span>
          width: <span class="highlight">_sizeTween.evaluate(animation),</span>
          child: const FlutterLogo(),
        ),
      ),
    );
  }
}

class LogoApp extends StatefulWidget {
  const LogoApp({super.key});

  @override
  State&lt;LogoApp&gt; createState() =&gt; _LogoAppState();
}

class _LogoAppState extends State&lt;LogoApp&gt; with SingleTickerProviderStateMixin {
  late Animation&lt;double&gt; animation;
  late AnimationController controller;

  @override
  void initState() {
    super.initState();
    controller =
        AnimationController(duration: const Duration(seconds: 2), vsync: this);
    animation = <span class="highlight">CurvedAnimation(parent: controller, curve: Curves.easeIn)</span>
      ..addStatusListener((status) {
        if (status == AnimationStatus.completed) {
          controller.reverse();
        } else if (status == AnimationStatus.dismissed) {
          controller.forward();
        }
      });
    controller.forward();
  }

  @override
  Widget build(BuildContext context) =&gt; AnimatedLogo(animation: animation);

  @override
  void dispose() {
    controller.dispose();
    super.dispose();
  }
}</code></pre></div>
</div>

<p><strong>原始碼：</strong> <a href="https://github.com/cfug/flutter.cn/tree/main/examples/animation/animate5">animate5</a></p>



<h2 id="next-steps">
<a class="anchor" href="#next-steps" aria-hidden="true"><span class="octicon octicon-link"></span></a>下面的步驟</h2>



<p>本指南是在 Flutter 中應用 <code class="language-plaintext highlighter-rouge">Tweens</code> 建立動畫的基礎介紹，還有很多其他類可供探索。比如指定 <code class="language-plaintext highlighter-rouge">Tween</code> 類，Material Design 特有的動畫，
<code class="language-plaintext highlighter-rouge">ReverseAnimation</code>，共享元素轉場（也稱為 Hero 動畫），物理模擬和 <code class="language-plaintext highlighter-rouge">fling()</code> 方法。關於最新的文件和範例可參見 <a href="https://flutter.tw/ui/animations">動畫效果介紹</a>。</p>





        
      </div>
    </main>
  </div>
</div>


    
      <footer class="site-footer">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 site-footer__wrapper">
          <div class="site-footer__logo">
            <img src="/assets/images/shared/brand/flutter/logo/flutter-mono-81x100.png" alt="Flutter Logo" width="81" height="100">
          </div>
          <div class="site-footer__content">
            <ul class="site-footer__link-list">
                <li><a href="https://groups.google.com/forum/#!forum/flutter-dev">cfug-dev@</a></li>
                <li><a href="/tos" class="text-nowrap">使用條款</a></li>
                <li><a href="/brand" class="text-nowrap">品牌指南</a></li>
                <li><a href="/security" class="text-nowrap">安全性</a></li>
                <li><a href="https://policies.google.com/privacy?hl=zh-TW" class="text-nowrap">隱私權說明</a></li>
                <li><a href="https://flutter.dev/" class="text-nowrap">官方網站</a></li>
                <li><a href="/disclaimer" class="text-nowrap">免責宣告</a></li>
                <li><a href="https://flutter.tw" class="text-nowrap">Flutter 簡體中文文檔</a></li>
            </ul>
            <p class="licenses">
              參考中文內容需註明本站及連結作為出處，英文內容和範例程式碼均遵從源站授權協議。
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>
    

    <script src="https://cdn.staticfile.net/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.staticfile.net/popper.js/1.16.1/umd/popper.min.js" integrity="sha512-ubuT8Z88WxezgSqf3RLuNi5lmjstiJcyezx34yIU2gAHonIi27Na7atqzUZCOoY4CExaoFumzOsFQ2Ch+I/HCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.staticfile.net/bootstrap/4.6.2/js/bootstrap.min.js" integrity="sha512-7rusk8kGPFynZWu26OKbTeI+QPoYchtxsmPeBqkHIEXJxeun4yJ4ISYe7C6sz9wdxeE1Gk3VxsIWgCZTc+vX3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.staticfile.net/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- <script src="https://cdn.staticfile.net/js-cookie/3.0.5/js.cookie.min.js" integrity="sha512-nlp9/l96/EpjYBx7EP7pGASVXNe80hGhYAUrjeXnu/fyF5Py0/RXav4BBNs7n5Hx1WFhOEOWSAVjGeC3oKxDVQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->

    <script src="/assets/js/vendor/code-prettify/prettify.js?v=1714594673"></script>
    <script src="/assets/js/vendor/code-prettify/lang-css.js?v=1714594673"></script>
    <script src="/assets/js/vendor/code-prettify/lang-dart.js?v=1714594673"></script>
    <script src="/assets/js/vendor/code-prettify/lang-yaml.js?v=1714594673"></script>
    <script src="/assets/js/tabs.js?v=1714594673"></script>
    <script src="/assets/js/archive.js?v=1714594673"></script>
    <script src="/assets/js/main.js?v=1714594673"></script>

    

  

<script src="/assets/translator/js/translator.js"></script></body></html>